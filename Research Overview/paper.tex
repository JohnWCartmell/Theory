
 \documentclass[10pt,a4paper]{article}
%\input{thepreamble.tex}
\input{../SharedMacros/ccategories.macros}
\input{../SharedMacros/gats.macros}
\input{../SharedMacros/metagat.macros}
\input{../SharedMacros/ermacros}
\input{../SharedMacros/erdiagram}
\input{../SharedMacros/theorems.macros}
\input{../SharedMacros/general.macros}
\usepackage{mathptmx}  % This changes font to roman
\usepackage{anyfontsize}
\usepackage{mathtools}  % why have we got this?
\usepackage{alltt}    
\usepackage{mnsymbol} %used for rightpitchfork
\usepackage{cmll}
\usepackage{ulem}
\renewcommand{\ttdefault}{txtt}
\usepackage[left=1.5cm, right=4cm, marginparwidth=3cm, top=2cm, bottom=2.0cm]{geometry}
\usepackage{framed}
\usepackage[font=small]{caption}
\usepackage{changepage}

\usepackage{hyperref}
\setlength{\captionmargin}{2cm}
\theoremstyle{remark}
\newtheorem*{lemma*}{Lemma}

% have boxed figures
\usepackage{float}
\floatstyle{ruled} 
\restylefloat{figure}

\newtheorem*{lemmastar}{Lemma}

% from presentation
\newcommand{\attr}[1]{#1}
\renewcommand{\attr}[1]{\psframebox[linecolor=red,framearc=.1]{#1}}
\newcommand{\attrtype}[1]{#1}
\renewcommand{\attrtype}[1]{\psframebox[linecolor=blue,framearc=.1]{#1}}
\newcommand{\etype}[1]{#1}
\renewcommand{\etype}[1]{\psframebox[linecolor=red,framearc=.1]{#1}}

\NewEnviron{tightquote}
{\begin{adjustwidth}{1.5cm}{1.5cm}
\textit{
\BODY
}
\end{adjustwidth}
}

\newcommand {\myfirstpaper}{my 1986 paper (\cite{Cartmell86})based on my thesis (\cite{Cartmell78})}

\newcommand{\myurl}[1]{{\footnotesize \url{#1}}}

\newcommand{\highlightpara}[1]{\colorbox{highlight}{%
    \parbox{\dimexpr\linewidth-2\fboxsep}% a box with line-breaks that's just wide enough
        {#1}}
}


\begin{document}
\title{Research Overview \\
\small Presented Over Zoom 20th May 2021}

\date{}
\author{John Cartmell}

\maketitle


\section{Introduction}

\note This document is an overview my current research interests. I keep the latex source of ongoing notes and working papers in a 
Github repository \url{www.github.com/JohnWCartmell/Theory}. From latex source I  build pdf documents using the \verb!latex => ps => pdf! route. The requirement to build via postscript comes about because I use the pstricks packages for drawing diagrams. I occasionally post pdfs on Research Gate 
(\url{www.researchgate.net/profile/John-Cartmell}).

\section{The Mathematical Theory of Data}
\note 
There isn't as yet \textit{a mathematical theory of data} but there ought to be and there can be but it hasn't been developed yet and when it is developed it will be a significant cornerstone with many practical benefits. 
In the theory, when developed, morphisms, commutative diagrams, pullbacks and coproducts will all play a part.

Some of my recent thinking I have put on ResearchGate as a ``Preparation for a Mathematical Theory of Data''
\cite{CartmellPreparation}. In this paper there is a definition of \term{maximal constrainedness} of a category with respect to a set of functors into the category of finite sets. Does anybody recognise this definition? 

Roughly speaking:
\begin{itemize}
\item the category represents a data specification,
\item each functor represents an instance of this data specification,
\item the set of functors represents the requirement for the specification,
\item the maximal constrainedness of the category with respect to the requirement represents that the data specification cannot be replaced by any better data specification i.e. one that fits the data more tightly.
\end{itemize}

In this abstract setting I am able to give definitions of some key concepts from relational data theory, namely
those of
\begin{itemize}
\item functional dependency,
\item referential inclusion dependency
\end{itemize}
and also what it means for dependencies of either type to be represented in the data specification (i.e. the category).

Finally I am able to prove that if a data specification is maximally constrained to a requirement then
all functional dependencies and referential inclusion dependencies present in the requirement are represented in the data
specification.

In this way I have shown,  albetit in an abstract setting, that prescriptions like Codd's third normal form criteria 
for relational data design rather than being first principles are corollaries to a fundamental goodness principle to the effect that a data specification considered as a theory must be maximally constrained i.e. must be the tightest avavailable theory for fitting the facts.
This makes perfect sense and when fully fledged will remove some of the mystery that surrounds  relational data theory. \\

\note
The more fully fledged theory of data, as yet  unfinished, I have described as follows:
\begin{abstract}
We present a formal abstract definition  of \textit{data specification} that is sufficiently general to encompass  
(i) relational schemas of Codd's relational data model \cite{Codd1970}
(ii) hierarchical schemas such as (a) those of the nested relational data model (b) those such as are implemented in XML and represented in XML schemas and (c) those represented in variants of Interface Definition Language (IDL) and implemented in various open and proprietary formats most recently 
in Google's protocol buffer format. The definition abstracts from  
entity relationship models in the binary-relationship style as described by Barker \cite{RichardBarkerBook} and others \cite{Rock-Evans1989}  and as implemented, for instance, in Oracle's SQL developer tool. 
We call such data specifications ER schemas and define an ER model to be such a schema along with its intended usage. Its intended usage is expressed as a notional set of defining instances associated with the schema. Those versed in category theory will see such schemas as presentations of categories with additional structure and the defining instances as a set of structure preserving functors into a suitably structured category of sets. 

After giving the definition, we define  goodness criteria for such ER models that generalise 
the normal form criteria of relational data modelling. We define sufficient conditions under which an ER model can be transformed into a relational schema in an appropriate normal form.  In doing so we provide a theoretical basis for the elimination of the normalisation step from the relational design workflow 
in favour of an emphasis on goodness criteria for entity relationship models in the binary-relationship style. This style  came about historically as a practical alternative to the entity-relationship model  presented by Chen as a unified model of data \cite{Chen1976}; this paper provides substance  to
Chen's idea of a unified model of data but exceeds his ambition by not requiring a separate normalisation step in relational design. In this way this paper points the way to a significant improvement in software life-cycle methodology.
\end{abstract}
and
\begin{quote}\small
The system that we describe involves definition of types of \term{particulars} in terms of their relationships with other types, of which there are two kinds, those, such as represent numbers, character strings, booleans and so on, all of whose instances, we say, are \term{universals} and the remaining types, the definienda, those types all of whose instances are particulars.
\end{quote}
\note 
In my software systems engineering  career I have found that awareness of  commutative diagrams of data relationships 
has given me a significant step-up in my design and programming efforts. 
Some of my earliest work in this area was described in a conference paper  \cite{CartmellScopePaper}. 
The concept of the scope of a relationship as presented in that paper is a thinly veiled
specification of a commuting diagram in a contextual category. 
Several authors have written about the importance of commutative diagrams to data modelling but 
as yet the full significance has not been appreciated. I came across a spectacular example in a data model that I constructed 
in the implementation of an application supporting the analysis and review of chromatography data from laboratory based LCMS(MS) systems.
In one area of the model there where two pullback cubes one stacked on the other. Outside of this scientific domain, my attempt to describe one such cube  of data relationships
is here : \url{http://www.entitymodelling.org/blog/doublediamond.html}. Note that the layout of the diagrams in the description are driven by the fact that composition relationships (the equivalent of dependency morphisms) are drawn top down and other relationships are drawn from left to right.

\note
I wrote about contextual categories and hierarchical data models in \cite{CartmellNetworkDataModel}.
One thing that I am working on  is a replacement for the definition 
 of \term{network category} that I gave in that paper. Both that paper and the definition given there of network category are flawed.
I am currently using the name \term{dependency category} for a replacement structure that I am still in the process of defining.

\section{Soundness of Ellipsis within Generalised Algebraic Theories}
\note
The ellipsis of variables from expressions in the notation of generalised algebraic theories. 
This is a question I raised in my \myfirstpaper :
What , for example, justifies writing $f \circ g$ in the generalised algebraic theory of categories rather than the incredibly awkward $f \circ_{x,y,z} g$. 

I have a partial solution to the general problem by way of sufficient conditions but the proofs are not yet included. 
Source of this 
document is in folder {\small \texttt{Soundness of Ellipsis within Generalised Algebraic Theories}}.

\section{Contextual Categories(C-systems)}

\note The theory of \textit{contextual categories} algebraically describes the substitution structure of equivalence classes of contexts and realisations of a gat. Vladimir has called  these C-systems. In this case we can summarise by saying that ontologising contexts and realisations yields contextual categories also known as C-systems:

\begin{center}
$
\begin{array}{ c p{0.5cm} c}
\etype{\Rnode{CandR}{contexts\ and\ realisations}}   & & \attrtype{\Rnode{concat}{\mbox{\textit{contextual category = C-system}}}}
\end{array}                     
$
\setlength{\arrnodesepA}{7pt}
\setlength{\arrnodesepB}{7pt}
\ncarr{CandR}{concat} 
\end{center}

\note
This statement is formalised by showing that the category of generalised algebraic theories
is equivalent to the category of contextual categories. 
This proof is written up in detail in my thesis.

I have written up a generalised algebraic axiomatisation of contextual categories that is made possible by by use of Vladimir's `s' operator.
You can find it here: \\
\myurl{https://www.researchgate.net/publication/325763538_Generalised_Algebraic_Axiomatisations_of_Contextual_Categories}. 

In that document I also give another axiomatisation that doesn't use the s-operator (though I arrived at this second axiomatisation via Vladimir's s-operator).

\section{Meta-Gat Algebras (B-systems)}

\note MetaGat algebras\footnote{I came up with the definition of these structures under a different name before I came up with the definition of contextual categories. I wrote a draft thesis and presented to Dana Scott who said `couldn't you make those into categories' or words to that effect and he might have added `like Lawvere did with clones' ... but I might be misremembering that bit.
I went away, did what Lawvere did, came up with contextual categories and rewrote my thesis. I wrote up my old notes on what I am now calling MetaGAT algebras in 2014 in order to communicate  them to Vladimir. } 
 are alternatives to contextual categories. 
    
\note The theory  Meta-GAT  (\cite{CartmellMetaTheory}) describes the substitution structure of equivalence classes of types and terms of a generalised algebraic theory. Meta-GAT algebras have been described by Vladimir as B-systems and have also been described by Richard Garner (\cite{Garner15}) as algebras of a monad over a functor category.  We can summarise (at a stretch) by saying that ontologising types and terms of a generalised algebraic theory yields meta-gat algebras also known as B-systems:

\begin{center}
$
\begin{array}{ c p{0.5cm} c}
\etype{\Rnode{TandT}{types\ and\ terms}} & & \attrtype{\Rnode{metagat}{\mbox{\textit{meta-gat = B-system}}}}
\end{array}                     
$
\setlength{\arrnodesepA}{7pt}
\setlength{\arrnodesepB}{7pt}
%\setlength{\arroffsetA}{7pt}
%\setlength{\arroffsetB}{7pt}
\ncarr{TandT}{metagat}
\end{center}

\note
We can formalise this connection by showing that the category of generalised algebraic theories 
is equivalent to the category of meta-GAT algebras.  I wrote out the details of this proof in 1977 in a draft thesis. 

\note
From the above it follows that the category of meta-GAT algebras and the category of contextual
categories are equivalent. 
I have considered proving this directly from time to time but have not dne so.
\note
One attempt at a proof required me to develop a  term rewrite system for the theory of contextual categories. In the end I gave up on it though this isn't to say that such a rewrite system cannot be be developed.

\note 
In \cite{CartmellMetaTheory} I present a generalised algebraic theory of metaGAT-algebras.
Find this work here:\\
\myurl{https://www.researchgate.net/publication/325763545_Meta-Theory_of_Generalised_Algebraic_Theories}.

\section{Categories with Families}
\note Peter Dybjer defined \textit{categories with families}  to play something like the role of contextual categories. 
A category with families (cwf) has  ontological representations of both types and terms as well as contexts and context realisations. 

\note
Unlike contextual categories and meta-GAT algebras, there are cwfs that do not correspond to
any generalised algebraic theory. If a cwf corresponds to a generalised algebraic theory then each object of the base category \catcw with the exception of the terminal object is of the form $\Gamma.A$ for some object $\Gamma$ of \catcw and for some $A \in Typ(\Gamma)$. Such conditions are described in the paper \cite{CastellanClairambaultDybjer2019}
where cwfs meeting this condition are said to be \textit{contextual}.

\note The base category of a  contextual cwf is a contextual category (notes in folder \verb!Regardingcwfs!). 
To put it another way, $contextual ... categories\  with\  families$ are precisely $contextual\ categories...with\ families$. Because of this
I am not quite sure why the families are good to have. What the definition does do though, and maybe this *is* the point, is to show that the type of sections of a contextual category (i.e. the target type for the interpretation of syntactic terms), can be axiomatised without introduction
or axiomatisation in any way of an identity type on morphisms. This perhaps gives us a useful stepping stome from contextual categories(C-systems) 
to MetaGAT algebras (B-systems)\footnote{Is this the route followed by the presentation of Jacopo?}.

\note Recently I was sent a copy of  `A Note on generalized algebraic theories and categories with families' (\cite{BCDEpaper}) by Peter Dybjer. It made me think I needed to better explain the tie up between 
Generalised Algebraic Theories and Contextual Categories and it inspired me to think again about models of generalised algeabraic theories in arbitrary contextual categories. As a consequence, I wrote a note `Instances of Generalised Algebraic Theories' and reworked their examples of
internal monoids and internal categories.
These notes can be found in folder \verb!InstancesofGeneralisedAlgebraicTheories! and will go on ResearchGate after some debugging.


\section{Dependency Categories }

\note 
There is another equivalent structure that I think can be defined and that I have worked on from time to time without ever bottoming out. In my most recent work toward this I have called these
structures \textit{dependency categories}.  
I first described something along these lines in a conference paper in 1986 (\cite{CartmellNetworkDataModel}). That paper was badly flawed  but the sentiment remains. 
\note
I am struck by the possibility that there might be three ways to represent generalised algebraic theories.
With my current naming these are, in order of increasing ontological redundancy, \textit{MetaGAT algebras}, \textit{contextual categories} and
\textit{dependency categories}.  Caveat:  dependency categories are not  as general as the other two.

\note I seek to define dependency categories so as to fit them into the larger mathematical theory of data -- they are one piece of the jigsaw.

\note What happens if we modify the notion of generalised algebraic theory to obtain a variant in which contexts instead of being finite \textit{sequences} of assumptions are finite \textit{sets} of assumptions. Can we sensibly do this\footnote{This is a question for Andrej maybe given his current project.}? If we can, then the corresponding algebras of contexts and realisations will be dependency categories rather than contextual categories.

\note The abstract currently runs like this:
\begin{abstract}
As in \cite{CartmellNetworkDataModel} the motivation has been to formalise
and foreground the network structure of type dependencies so as to provide a theoretical foundation for the use of networks of composition relationships in entity modelling as applied both conceptually and, for the most practical of purposes, in systems development. 

The objects of  categories of either persuasion, either contextual categories or dependency categories, can be thought 
of as contexts or as types that vary (also known as dependent types) but equally they can be thought of as entity 
types in the sense used in entity modelling. The
morphisms of either correspond to the many-one binary relationships that are the staple fare of entity modelling and in either case there is a  distinguished subset of morphisms depicted on diagrams using a triangular headed arrow ($\smorph$). In a contextual category  the distinguished 
subset forms a hierarchy, in a dependency category the distinguished morphisms form not a hierarchy but a wide acyclic subcategory.
In either case the distinguished morphisms correspond to certain relationships known as composition relationships which feature
in certain styles of entity modelling (\cite{ECMA-149}, \cite{Munck1988}, \cite{entitymodelling}) and which were implied in the influential paper by Chen \cite{Chen1976} who introduced the idea of certain entities being dependent on binary relationships 
with other entities for both their identification and their existence.
\end{abstract}

\note Another way of approaching is to ask the question \textit{ given a contextual category, is there a full and faithful quotient category in which the asymmetric local cartesian product\commentary{by which I mean the pullbacks of dependency morphisms along dependency morphisms ($\crossx{}{}{w}$)} of the contextual category structure is collapsed down to a symmetric local cartesian product?} I am thinking we may need to rule out contextual categories whose 
cartesian product isn't right-cancellative (I forget the detail right now). 
\note
To help clarify the above question I wrote a short note on \term{congruence structures}.  This is my term and I would ask if there is a better term that I should use --- whether someone has already got a  name for this concept? The note is on ResearchGate: \\
\myurl{www.researchgate.net/publication/346987377_Congruence_Structures_induced_by_Full_and_Faithful_Functors}

As a practice run, as it were, I have used this to produce categories with symmetric cartesian products from categories with very well behaved associative cartesian products. I need apply the same method to categories with slightly less well-behaved products but I am struggling a bit with this. After this, the intention is to follow the same line and apply to contextual categories that are sufficiently well behaved.

\section{Finite Limits}
\note 
I just checked out some details of something I have had in the back of my mind for some time. 
I was wondering whether anyone had written this up but I saw a reference to something of the sort in a papaer of Peter Dybjer so I think that it  has been.
 From any category with a coherent system of pullbacks and a terminal object a contextual category can be constructed. I don't know what to call this but 
I refer to \textit{morphisms with codomain} it in my thesis and in the ``GATSandCCs'' paper.
Suppose I denote by $MWD(\catc)$ the contextual category corresponding to a nicely behaved category \catcw with finite limits. Am I not right in saying that a contextual category $\cat{D}$ is contextually equivalent\footnote{meaning equivalent as categories via functors that are contextual functors} to 
a contextual category of the form $MWD(\catc)$ iff $\cat{D}$ has identity types and sigma types
(strongest possible axiomatisations for these). The interest in this might be because if Pi types are added then we get  a path to locally cartesian closed categories as models of Martin-Loff type theory via gats and contextual categories. 

\section{Other matters}
\mathchardef\mhyphen="2D % Define a "math hyphen"
\newcommand{\Ualg}{U \mhyphen alg}
\newcommand{\Upalg}{U' \mhyphen alg}
\newcommand{\Ialg}{I \mhyphen alg}
\note From my 1986 paper (\cite{Cartmell86})based on my thesis (\cite{Cartmell78}):
\begin{tightquote}
Every interpretation $I:U \morph U'$ induces a contextual functor 
$C(I):C(U) \morph C(U')$. Composition with $C(I)$ is a functor from 
$ConFunc(C(U'),Fam)$ to
$ConFunc(C(U),Fam)$. It is the functor $\Ialg:\Upalg \morph \Ualg$. Those functors
between categories of models which are induced in this way are called generalised
algebraic functors. We can show that all generalised algebraic functors have a left adjoint.
This is
equivalent to a known generalisation of Lawvere \cite{LawvereAlgebraicTheories}'s theorem that all algebraic
functors have a left adjoint. 
\end{tightquote}
A year or too back, Jonathan Sterling asked me about the proof of this. The question threw me and I couldn't give a good answer and therefore I think there is work to be done in this area unless someone has cleaned up in the meantime\footnote{Nathanael Arkor (thank you) suggests that we can just rely on the corresponding result for essentially algebraic theories}.
\note
Sketches: You would think that we could give a definition for a sketch of contextual category 
similar to  definitions such as those of linear sketch, finite product (FP) sketch, finite discrete (FD) sketch and finite limit (FL) sketch. Such a CC sketch would be syntax-free way a way of defining a generalised algebraic theory and it would parallel and benefit from treatments given to other notions of theory versus category with additional structure. 
\note
Generators and relations: On the other hand we should be able to construct contextual categories by generators and  
relations as Maclane describes the construction of categories by generators and relations
[page 51,52 Categories for the Working Mathematician]. Maybe it isn't  straightforward  though because of the inductive nature of the types/objects. 
\note Richard Garner has suggested (private communication) that there is a class of generalised algebraic theories for which the algebras are isomorphic to algebras  over a monad on a certain category of Set-valued functors\footnote{This category of functors was described by Paige in her presentation.}. Developing this idea: 

\noindent
It seems that we can almost certainly characterise that class of interpretations between 
generalised algeabraic theories such that the corresponding generalised algebraic functors are monadic.

From this characterisation will follow 
\begin{itemize}
\item Ricard Garner's account of (the equivalent of) MetaGat algebras,
\item  the known result that the category of categories is monadic over the category of reflexive graphs, 
\item the known result that the category of reflexive graphs is monadic over \cat{Set},
\item the known result that the category of categories is not monadic over \cat{Set}.
\end{itemize}

\note
Lawvere defines a functor which he calls algebraic-structure as a  left adjoint  to the algebraic-semantics functor which in turn is defined as the functor which takes a theory to its concrete category of algebras. 
The algebraic-structure functor is an answer to questions of the form ... what is the best way of modelling such and such algebraically? 
Conceptually this is most interesting  and Lawvere gives lots of examples. 

Lawvere's algebraic structure functor generalises to the case of many-sorted algebraic theories.
Can it in some way, shape or form be generalised to generalised algeabraic theories? Is there a tie up with maximal constrainedness as mentioned earlier. It feels like there ought to be.

\section{Direct Sums and Recursion}

\note Sometimes definitions involving direct sums and recursion can be unwound and rerepresentated by
generalised algebraic theories albeit that these theories have countably infinities types and operator 
symbols\commentary{I have filled out this section having seen Egbert's presentation because his implementation in AGDA seems to follow this route.}.
 
There is a certain style of definition that uses coproducts of types. It is often used in data modelling 
under the terminology of \term{inheritance} and where it would be technically precise to say that the
coproduct type is a \textit{generalisation}. Some of these definitions can be re-represented as generalised algebraic.

Look at this the other way around -- some infinite gats can be expressed by a finite theory that makes use of coproducts and recursion.  I have expressed the theories of $\omega$-trees and then  contextual categories and MetaGAT algebras as generalised algebraic theories with countably infinite sort symbols and operators.  Given finite sums and recursion I can replace my infinities of sort sysmbols and operators  by a finite definition. 
We don't have finite sums and recursion  in generalised algebraic theories but we can imagine a framework in which it is possible to write
the theory of $\omega$-trees as: \\
\vspace{0.03cm} 
\begin{tabular}{>{\itshape}l l}
Symbol & \itshape{Introductory Rule} \\
$Base $     & $\isT{Base}$\\
$Cover  $     & $\ofT{x_0}{Base}    \tstyle \isT{Cover(x_0)} $\\
$Cover $      & $\ofT{x}{Cover}    \tstyle \isT{Cover(x)} $\\
\end{tabular} \\
\vspace{.1cm}  \\

Such a definition could be represented algebraically in a suitably modified notion of contextual category (a comulti-contextual category?) these dependencies could be represented
as follows:  

\begin{center}
$
\begin{array}{c c}
\Rnode{abs}{1}  \\ [1.4cm]
\Rnode{S0}{Base} \\ [1.4cm]
\Rnode{SR}{Cover} \\ [1.4cm]
\end{array}
$
\ncsar{S0}{abs}
\ncsar{SR}{S0}
\ncrsar{SR}{SR}
\end{center}

\noindent This is not just an idle thought -- in  data modelling such a tree 
structure is represented in an entity model diagram in which the injections into the coproduct $Ob$ of $Base$ and $Cover$ are represented by containment: \\

\begin{center}
\input{../SharedPictures/treeStructurePatched}
\end {center}
See \textit{www.entitymodelling.org/tutorialone} for a description of this notation.
For an example of the modelling of recursive relationships in the definition of a phrase structure grammar of English see 
\textit{www.entitymodelling.org/examplesone/englishsentence}.


\section{Fungibility} 
\input{fungibility}



%\section{unused}
%\input{unused}

\bibliographystyle{alpha} 
\bibliography{../SharedBibliography/temp/bibliography}
\end{document}
