


\documentclass[10pt,a4paper]{article}

\input{thepreamble.tex}

\newcounter{para}
\newcommand\note{\par\refstepcounter{para}\thepara.\space}


\newcommand{\catc}[1][C]{\textbf{#1}}
\newcommand{\reqt}{\textbf{R}}
\newcommand{\reqtc}[1][\catc]{\reqt_{#1}}
\newcommand{\Fin}{\ensuremath{\mathbb{F\mathrm{in}} }}

\begin{document}
\title{General Theory}

% abstract here for ams

\author{John Cartmell}

\maketitle
\begin{center}
DRAFT
\end{center}

\section*{Generalities}
\note
Data specifications are theories of what is
and different methodologies for data specification, i.e. different notions of data specification, correspond to different notions of theory. 

\note
Data specifications have instances.  Of all structurally possible instances some are required as instances for the intended useage 
and some are not. 

Notionally let there be a requirement $R$ determining a set of data instances that are intended or forseen and characterise the intended use of the data specification. Of all possible instances of a data specification some fall within $R$ and some may not.

\note
When viewed abstractly many apparently different notions of data specification can be characterised as having
data specifications corresponding to sketches of categories or restriction categories with some additional structure such as certain limits and/or colimits.

\note
Instances of such data specifications correspond to structure preserving functors from the corresponding category to the category of finite sets. 

\note
Redundancy of arrows in a sketch corresponds to redundacy of data in instances of the data specification. 

\note
Generally it is a goal of data specification to avoid redundancy of data in instances. 

\note 
Within each particular methodology, a general engineering principle is that a data specification should be as constraining as possible
of data instances while being general enough for the intended useage; equivalently the corresponding theory should be as tight as possible. 

\note
We can define goodness criteria for data specifications if we have a notion of all instances which the data specification is a theory of
i.e. an intended useage. 

\note
Goodness equates to absence of redundancy plus tightness to intended useage. Absence of redundancy is a property of a sketch. Tightness
is a property of a category $\catc$ relative to a requirement $\reqt$ which is viewed as a set of instances $\reqtc$ of $\catc$.

\section*{Tightness}
The specifics of the tightness definition for the simplest notion \term{sketch of category as data specification} are not very interesting in and by themselves but they set the pattern for what is to come and this is definitely interesting because as the notion of data specification is refined this tightness definition develops into the 3rd, 4th and 5th normal form definitions of relational database theory.
\subsection*{Sketch of category as data specification - Tightness}
\begin{definition}
If $\catc$ is a category and $\reqtc$ is a set of instances i.e a set of functors $D$, $D: \catc \morph \Fin$ then $\catc$ is 
\term{tight} to the requirement $\reqtc$ iff
\begin{enumerate}[(a)]

\item
for all diagrams
$
\begin{array}{c p{0.5cm} c  }
 \Rnode{a}{a}            &&   \Rnode{b}{b}
\end{array} 
$
\ncarc[nodesep=2pt,arcangle=10,offset=2pt]{->}{a}{b}
\alabel{f}
\ncarc[nodesep=2pt,arcangle=-10,offset=-2pt]{->}{a}{b}
\blabel{g}
in $\catc$,  if in all instances $D \in \reqtc$, $D(f)=D(g)$, 
then $f=g$ in $\catc$, and 
\item for all diagrams
$
\begin{array}{c p{0.5cm} c  }
             &&   \Rnode{b}{b} \\[0.01cm]
\Rnode{a}{a} &&                \\[0.01cm] 
             &&   \Rnode{c}{c}         
\end{array} 
$
\ncarr{a}{b}
\alabel{f}
\ncarr{a}{c}
\blabel{g}
in $\catc$, if in all instances $D \in \reqtc$ there exist a unique function $D_h : D(b) \morph D(c)$ such that
$D(f) \circ D_h = D(g)$ then there exists a morphism $h:b \morph c$ in $\catc$ such that $f \circ h = g$ in $\catc$, and
\item for all diagrams
$
\begin{array}{c p{0.5cm} c  }
\Rnode{a}{a} &&                \\[0.01cm] 
             &&   \Rnode{b}{b} \\[0.01cm]
\Rnode{c}{c}         
\end{array} 
$
\ncarr{a}{b}
\alabel{f}
\ncarr{c}{b}
\blabel{g} 
in $\catc$, if in all instances $D \in \reqtc$ there exist a unique function $D_h : D(c) \morph D(a)$ such that
$D_h \circ D(f) = D(g)$ then there exists a morphism $h:c \morph a$ in $\catc$ such that $h \circ f = g$ in $\catc$.
\end{enumerate}
\end{definition}

\end{document}
