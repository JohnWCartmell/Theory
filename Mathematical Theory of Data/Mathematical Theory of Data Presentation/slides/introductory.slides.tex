
\begin{frame}{Relational Normal Form Criteria}
Classic relational database normal form criteria 
\begin{itemize}
    \item from a mathematical perspective are not really normal forms!
    \item they are goodness criteria (GC) that articulate good engineering principles
    \item they include:
        \begin{center}
        \begin{tabular}{p{6.0cm}  l }
         \innerbullet first normal form (1NF)            &\Rnode{A1}{}                       \\
         \innerbullet 2nd normal form (2NF)              &                                   \\
         \innerbullet 3rd normal form (3NF)              &
                      \Rnode{A2}{}\braceLabel{A1}{A2}{Codd 1970,1971}                        \\
         \innerbullet Boyce-Codd normal form (BCNF)      &                                   \\
         \innerbullet 4th normal form (4NF)              & -- Fagin 1977                     \\
         \innerbullet projection-join normal form (5NF)  & -- Fagin 1979                     \\
         \innerbullet inclusion normal form (IN-NF)      & -- Ling and Goh  1992
        \end{tabular}
        \end{center}
\end{itemize}
\end{frame}

\begin{frame}{Introduction}
I wish to show that
\begin{itemize}
\item we can genericise relational database normal form criteria into abstract logical terms,
\item achieve goodness criteria that are generic i.e. can be applied to any data specifications not just to relational schema,
 \item that the classic relational database normal form criteria (2NF, 3NF, BCNF, INC-NF, 4NF, 5NF)  are  consequences of these generic goodness criteria.
\end{itemize}
\end{frame}

\begin{frame}{View}
A data specification  
\begin{itemize}
\item is a  theory (of what is)
\end{itemize}
\medskip
A data specification method 
\begin{itemize}
\item is a method for expressing such a  theory
\item unequivocally it enables definitions of types and certain relationships between these types
\item types are equally types of data and types of real world entity
\end{itemize}
More precisely, 
\begin{itemize}
\item data specification are \underline{presentations} of theories of what is,
\item choice of primitives in a given presentation is choice of which data to be stored or communicated.
\end{itemize}
\end{frame}

\begin{frame}{Goodness Criteria}
I will define two types of goodness criteria
\begin{itemize}
    \item Goodness Criteria of Type 1 -- absence of redundancy in presentation.
    \item Ensures absence of redundancy in data and in data management logic.
    \item Spelt out in more detail in criteria 1A, 1B and so on
    \item  Goodness Criteria of Type 2 -- the theory be the tightest fit to the facts 
    \item Two ways of expressing this. 
    \begin{itemize}
        \item Criteria 2 is that the theory is maximally constrained.
        \item Criteria 2A, 2B etc.  that it be logically complete in some sense.
    \end{itemize}
\end{itemize}
\end{frame}

\begin{frame}{Data Specification as Category}
\begin{itemize}
 \item Not surprising that a data specification can represented as a category or as a sketch of a category
\pause \item
What types of things are there and how are they related? 
\begin{itemize}
\item Data specifications provide the answer to this question in the context of a software development. 
\item Types theories provide the answer in a mathematical context. 
\item Category theory abstracts across both these domains.
\end{itemize}
\pause \item Nor is it surpising if data specifications can be seen in terms
of contextual categories or a sketches for a contextual categories
because as categories model types so contextual categories model types that vary
\pause ... and  our instinct for types and types that vary comes from our linguistic abilities as much as from our mathematics.
\end{itemize}
\end{frame}

\begin{frame}{Coming up}
\begin{center}
\begin{tabular}{p{12cm}}
\begin{itemize}
    \item data specifications 
    \begin{itemize}
        \item as sketches of structured categories of some kind
        \item data instances as certain structure preserving functors to the category of finite sets $\Fin$
    \end{itemize}
    \item database specifications
    \begin{itemize}
         \item category has designated mono sources for some of its objects 
    \end{itemize}
    \item relational database specifications charcterised by
    \begin{itemize}
         \item no use of containment or nesting
         \item no  hierarchical organisation -- said to be flat
         \item no use of pointers 
         \item instead uses foreign keys to represent relationships in the data
    \end{itemize}
\end{itemize} 
\end{tabular}
\end{center}
\end{frame}

\input{../slides/kindsofdataspec.slides}

\input{../slides/levelsdiagram.slides}

\iffalse
\begin{frame}{Methods of Data Specification}
\begin{itemize}
	\item schema of relational database,
	\item structure described by Carnegie-Mellon IDL,
	\item schema of nested relational database,
	\item message structure described by Google protocol buffer IDL,
	\item XML schema language,
	\item ER script.
\end{itemize}
\end{frame}
\fi

\begin{frame}{Data Specifications}
Two kinds of types in play
\begin{itemize}
\item  the \textit{definienda} -- types all of whose instances are \term{particulars}
\begin{itemize}
\item employee, department, student, account, product, order, shipment, delivery, flight, booking and so on
\item molecular structure, atom, bond, element, isotope, reaction, metabolite, mass trace, chromatogram, peak
\item table, column, primary key, foreign key
\item node and edge. 
\end{itemize}
\pause 
\item  the \textit{definiens}  -- types all of whose instances are \term{universals}
\begin{itemize}
       \item string, integer, float, boolean and so on
\end{itemize}
\end{itemize}
\pause
\begin{itemize}
\item in ER modelling 
\begin{itemize}
\item the \textit{definienda} are called \textit{entity types}
\item the \textit{definiens} are called \textit{attribute types} or \textit{domains}.
\end{itemize}
\end{itemize}
\end{frame}


\begin{frame}{Data Specifications}
A data specification is a sketch of a category with some additional structure:
\begin{itemize}
\item that it is a \term{sketch} is crucial because it is only nodes and edges of the sketch for which data is stored and/or communicated, 
\item that there are commutative diagrams is crucial to construction of representational 
specifications from logical specifications.
\item that the category had additional structure is significant:
\begin{itemize}
\item so that we can distinguish structural from non-structural relationships to describe structure nesting and thereby hierarchical data,
\item so that we can give account of database normal forms 
(BCNF, 3NF, 4NF and 5NF),
\item so that we can allow for missing data as represented by NULL values, 
\item so that types of universals can be distinguished from types of particulars.
\end{itemize}
\end{itemize}
\end{frame}

\begin{frame}{Additional Structure}
\resizebox{11.3cm}{!}{
\input{../content/featurelist}
\featurelist
}
\end{frame}

\begin{frame}{Definitions} 
In a category \catc, a  \term{source} is a family of morphisms with common domain: \\
\scalebox{0.65}{
\multisourcediagram{n}{a}{b}{f}
} 
\medskip
Such a source is said to be a \term{mono source}  iff for all $g,h:x \morph a$ in \catcw 
so that \scalebox{0.65}{
\monosourcedefinitiondiagram{x}{g}{h}{n}{a}{b}{f}
} 
in \catcw then if $g \circ f_i = h \circ f_i$, for each $i$,  then $g=h$.
\end{frame}

\begin{frame}{Alternative Definition}{Mono Source Limit Cone}  
In a category \cat{C},
\scalebox{0.65}{
\input{../content/monoSource}
} is a mono source iff \\
\begin{center}
\scalebox{0.65}{
\input{../content/monoSourceLimitCone}
} 
is a limit cone.
\end{center}
\end{frame}

\begin{frame}{From here..}
\begin{itemize}
\item I will
\begin{itemize}
   \item give an example of nested tables of data
   \item describe relational model  and other data models 
   %\pause \item touch on my favourite -- ER modelling and ER script
   \pause \item define GCs for sketches of categories as data specifications 
   \pause \item define GCs for sketches of categories with designated monomorphisms and epimorphisms
   \pause \item define an abstract version of the Boyce-Codd normal form (BCNF) criteria 
   \pause \item define GCs for sketches of categories with designated monos and epis and with finite products
  \pause \item  show that if the generic goodness criteria hold then with some additional assumptions we can prove that the BCNF criteria holds
\end{itemize}
\end{itemize}
\end{frame}

