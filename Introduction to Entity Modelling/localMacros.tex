
\newcommand{\longrightharpoonup}
{-\kern-5pt\rightharpoonup}

\newcommand{\longtwoheadrightarrow}
{-\kern-5pt\twoheadrightarrow}

\newcommand{\chenboxhalfwidth}{1.1}
\newcommand{\chenboxquarterwidth}{0.55}
\newcommand{\chenboxhalfheight}{0.75}
\newcommand{\chenboxquarterheight}{0.375}

% \chenbox{label}{text}
\newcommand{\chenbox}[2]{
	\rput[l](0,\chenboxhalfheight){\pnode{#1N}}
	\rput[l](\chenboxhalfwidth,\chenboxhalfheight){\pnode{#1NE}}
	\rput[l](-\chenboxhalfwidth,\chenboxhalfheight){\pnode{#1NW}}
	\rput[l](0,-\chenboxhalfheight){\pnode{#1S}}
	\rput[l](\chenboxhalfwidth,-\chenboxhalfheight){\pnode{#1SE}}
	\rput[l](-\chenboxhalfwidth,-\chenboxhalfheight){\pnode{#1SW}}
	\rput[l](\chenboxquarterwidth,-\chenboxhalfheight){\pnode{#1SSE}}
	\rput[l](-\chenboxquarterwidth,-\chenboxhalfheight){\pnode{#1SSW}}
	\rput[l](\chenboxhalfwidth,0){\pnode{#1E}}
	\rput[l](-\chenboxhalfwidth,0){\pnode{#1W}}
  	\psframe[fillstyle=solid,fillcolor=white]
  	     (-\chenboxhalfwidth,-\chenboxhalfheight)(\chenboxhalfwidth,\chenboxhalfheight)
  \rput(0,0){\scriptsize #2}
}

% \chendiamond{label}{text}
\newcommand{\chendiamond}[2]{
	\rput[l](0,\chenboxhalfheight){\pnode{#1N}}
	\rput[l](\chenboxquarterwidth,\chenboxquarterheight){\pnode{#1NE}}
	\rput[l](-\chenboxquarterwidth,\chenboxquarterheight){\pnode{#1NW}}
	\rput[l](0,-\chenboxhalfheight){\pnode{#1S}}
	\rput[l](\chenboxhalfwidth,0){\pnode{#1E}}
	\rput[l](-\chenboxhalfwidth,0){\pnode{#1W}}
  	\psdiamond[fillstyle=solid,fillcolor=white](0,0)(\chenboxhalfwidth,\chenboxhalfheight) 
  	\rput(0,0){\scriptsize #2}
}

\newcommand{\chenvaluetyperadius}{0.75}

% \chenvaluetype{label}{text}
\newcommand{\chenvaluetype}[2]{
    \rput[l](0,\chenvaluetyperadius){\pnode{#1N}}
	\pscircle[fillstyle=solid,fillcolor=white](0,0){\chenvaluetyperadius}
	\rput(0,0){\scriptsize #2}
}
% macro used for tagging referential and relationship words
%\syntag{dash}{tagnode}{armBcm}{wordnode}{offsetcm}
%dash=1pt 0pt    for solid line 
%    =1pt 1pt    for dotted line
%    =5pt 3pt    for default dashed style
%    or any other specified dashed style
\newcommand{\syntag}[5]
{\ncangle[nodesepA=4pt, 
          nodesepB=2pt,
          linewidth=0.5pt, %?? might this be  too narrow?
          linestyle=dashed,
          dash=#1, 
          offsetA=#5cm, 
          angleA=-90, 
          angleB=90, 
          armB=#3cm, 
          linearc=.2]{#4}{#2}}

% These custom underline commands.

\newlength{\rwordwidth}% Declare a length to store the word's width
\newcommand{\rline}[1]{%
\settowidth{\rwordwidth}{#1}% Measure the width of the word
\leavevmode% Ensure proper space is taken up
\makebox[0pt][l]{#1}% Print the word without affecting layout
\psset{linewidth=0.5pt, linestyle=dashed, dash=2pt 0pt}% Set the dashed line pattern
\rput(0,-1ex){\psline(0,0)(\rwordwidth,0)}% Draw the dashed line under the word
\hspace{\rwordwidth}% Ensure following text starts after the word
}

\newcommand{\rdash}[1]{%
\settowidth{\rwordwidth}{#1}% Measure the width of the word
\leavevmode% Ensure proper space is taken up
\makebox[0pt][l]{#1}% Print the word without affecting layout
\psset{linewidth=0.5pt, linestyle=dashed, dash=3pt 3pt}% Set the dashed line pattern 
\rput(0,-0.5ex){\psline(0,0)(\rwordwidth,0)}% Draw the dashed line under the word
\hspace{\rwordwidth}% Ensure following text starts after the word
}

\newcommand{\rdot}[1]{%
\settowidth{\rwordwidth}{#1}% Measure the width of the word
\leavevmode% Ensure proper space is taken up
\makebox[0pt][l]{#1}% Print the word without affecting layout
\psset{linewidth=0.5pt, linestyle=dashed, dash=1pt 1pt}% Set the dashed line pattern
\rput(0,-1ex){\psline(0,0)(\rwordwidth,0)}% Draw the dashed line under the word
\hspace{\rwordwidth}% Ensure following text starts after the word
}

\newcommand{\rightpitchfork}{\text{\raisebox{0pt}{\rotatebox[origin=c]{-90}{\scalebox{0.7}{$\pitchfork$}}}}}


% \manyonesurjective{id}{srcnode}{destnode}
\newcommand{\manyonesurjective}[3]
{
\ncdiag[armA=0.3cm,armB=0.3cm, angleB=-180]{#2}{#3}
\ncput[npos=1]{\pnode(0,0){#1c}}
\naput[npos=0]{\pnode(0,0){#1a}}
\nbput[npos=0]{\pnode(0,0){#1b}}
\ncline{#1a}{#1c}
\ncline{#1b}{#1c}
}


%Macros for simple etity and relationship shapes.

% \etnode{nodelabel}{x}{y}    x,y of bottom left corner
\newcommand{\etnode}[3]{
\rput(#2,#3){\rnode{#1}{
\pnode(0,0.75){#1UL} \pnode(0,0.25){#1LL}
\psframebox[framearc=0.2,fillstyle=solid,fillcolor=lightyellow]{\rule[1cm]{2cm}{0pt}} 
\pnode(0,0.75){#1UR} \pnode(0,0.25){#1LR}
}}
}

% \manyonesurjectiveidentifying{id}{srcnode}{destnode}
\newcommand{\manyonesurjectiveidentifying}[3]
{
\ncdiag[linestyle=solid, armA=0.3cm,armB=0.2cm, angleB=-180]{#2}{#3}
\ncput[npos=.75]{\pnode(0,0){#1c}}
\naput[npos=0, labelsep=3pt]{\pnode(0,0){#1a}}
\nbput[npos=0, labelsep=3pt]{\pnode(0,0){#1b}}
\naput[npos=.95, labelsep=3pt]{\pnode(0,0){#1i1}}
\nbput[npos=.95, labelsep=3pt]{\pnode(0,0){#1i2}}

\ncline{#1a}{#1c}
\ncline{#1b}{#1c}
\ncline{#1i1}{#1i2}
}




