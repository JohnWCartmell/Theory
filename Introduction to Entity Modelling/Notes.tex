
\section{Notes}
\subsection{Source Structure}
\mynote I  have one source file per section.
\mynote I  use \verb'\commentary' to add markups in the margin.

\subsection{On the ordering of material}
\mynote rationale -- when it comes to one order for the introduction of terms rather than another -- there are a few considerations which likely conflict
\begin{itemize}
	\item  present conceptual modelling before data modelling
	\item  present relational data modelling before structured entity modelling
	\item rationalise structured entity modelling from point of view of hierarchical data specification. 
	\item  present identifying features as part of conceptual modelling because
	it is applicable to conceptual modelling though it really comes into its own
	later applied in data modelling
	because there is then more value to it.
	\item present discussions about the comminiucation of relationship instances before 
		getting on to data modelling
	\item   present goodness criteria as part of conceptual modelling
	or present the core and its derivatives as part of conceptual modelling then goodness criteria as part of data model where value is stated.
	\item similarly present scope as part of conceptual modelling because it is part of understanding concepts then show its value in data modelling? 
	\item in goodness section in conceptual modelling bit discuss absence of referential attributes to entities in scope of model and out of scope of model.
	\item and dont model a referential attribute in preference to a relationship.
	\item in data modelling section reintroduce referential attributes. 
	\item somewhere have a section on entity modelling without diagrams. Can get almost most of the most significant advantages of entity modelling without using diagrams. This might be a  introducing xml and ERScript without hgaving to worry about diagrams.
	\item example of modelling a boolean international flight in which an airport is located.
\end{itemize}
\begin{notebox}
Important point. When I omit attributes from a diagram and depict just the entity types and relationships then I omit bars from the relationships unless the set of identifying features of the entity type consists entirely of relationships. Then the bars are shown.
Thus in figure \ref{chenManufacturingCo..diagram} I show bars only on relationships from intersection entities. This is entirely and utterly satisfying and frees me up from some doubt. My doubt has been how could I show identifying relationships when they are only identifying in the presence of 
mutual identifying attributes. Relief! 
\end{notebox}
\begin{noteforfuture}
18th Sept 2024. I am thinking about what comes first the section on data or the section of structured
entity modelling. 
Currently I have the data section followed by type inheritance followed by structured entity modelling. 

However I have just been trying to fraw a diagram showing Chen's ternary \verb'SUPP-PROJ-PART' relation as a Barker-style diagram. I first drew it as a network with three composition relationships meeting at the intersection entity. Then I scrapped that diagram and drew it agin with one composition and two references. In fact when I look at how I have represented intersection entities in Barker stykle rendering of Chen's manufacturing example (figure \ref{chenManufacturingCo..diagram}) then indeed I see that I it is a network diagram in that the three intersection entitites have two incoming composition relationships. 

Having been exercised by this i.e. wondering what choices to make I wonder whether the way to proceed is put structured entity modelling before data modelling.

Describe structured entity modelling with multiple incoming compositions if it seems right.

Describe data modelling for hierarchical data as eliminating multiple incoming compositions.

Then as an example give a \verb'SUPP-PROJ-PART' as an example of choising an elimination.

Giving a second version of the chen manufacturing model in figure \ref{chenManufacturingCo..diagram}
which is hierarchical.

During all this a second thought occurs to me. Since there is a choice of how network structure is eliminated could support either way of representing the data in a hierarchic schema such as xml.
 Need a diagram but cant include jpg see photos folder \verb'whiteboard_dual_elimination.jpg'.

A further point.
Could keep the order Data, Structured Entity Modelling as I curren;ty have it and add a sectiuon on hierarchical modelling. Just don't like that as a section title as hierarchical modelling is for messages, xml and program structure but is a turn off if it suggests it is restricted to hierarchical databases.

\end{noteforfuture}

\subsection{New material somewhere}
\mynote Exclusion Arcs --- somewhere 
\mynote Meta Model --- needs its own section somewhere --- A simple meta model example is given in the "Structured Entity Modelling" section. This needs to have other meta-models before it and needs the very idea to be explained.

\subsection{Notes of Referencing Entities}
\begin{noteforfuture}
The referecing entities section. I would like an example with two or three identifying attributes but --- cannot think of one. The ones I have given earlier are not very convincing.
\end{noteforfuture}


\subsection{Notes on Communicating Conjunctions}
\begin{noteforfuture}
When communicating a plurality of instances of relationships is less that the sum of the parts.
communication( R1 + R2) less than or equal communication (X) + communication of (Y).=
\end{noteforfuture}


\subsection{Notes on Scopes of relationships}
\mynote
Diagrams expressing Scopes---
Document scope by drawing this diagram and asserting that it commutes. Or document by stating the equivalence of two paths. 

\subsection{Generalities}
\begin{noteforfuture}
One of the goals of this book is to get a deper understanding of data and in turn to be able to be more surefooted designing and navigating data systems --- their data, their user interfaces and their code.
\end{noteforfuture}

\begin{noteforfuture}
Entity models explain the particular in terms of the universal.
\end{noteforfuture}


\begin{noteforfuture}
Data is what is left after sentence stgructure markers and meta terms is removed from a set of paradigmatic sentences. It is not that data is linguistic exctly but rather that data and linguistics are both means of conveying underlying concept.

\end{noteforfuture}

\begin{noteforfuture}
\begin{itemize}
\item other than identifying attributes, referential attributes represent data not concept. They are not conceptual primitives.
\item relationships model concept and context not data. 
\end{itemize}
\end{noteforfuture}

\begin{noteforfuture}
when we model data then we impose structure and that in some ways limits what we can say.
free text has no such limitation.
data may have elements of free text within it. Thus a description of a play may have individual lines of text attributed to charcaters in a structured way. To store the script of a play as a database. a novel can be stored as a blob or it can be broken down into chapeters one blob per chapter. Some element of structure is now recogised. none the less 'the data' is not very datalike rather that is is text like. an accounts databse will be much more datlike but may well have text elements embedded within it. The dream of structuralism is that all be understood as pure structure. A sentence can be parsed and its parse tree is more datalike and less text like.
\end{noteforfuture}

\begin{noteforfuture}
Programmers have tools available to them that generate code from entity models 
or equivalent abstrcations. This code will invariable bye incorrect and require hand editing unless scopes of relationships are represented and taken account of.
\end{noteforfuture}

\subsection{Notes on Background Material}
\begin{noteforfuture}
For discussion of universals in  the context of mereology see A.J.Cotnoir in my data/database literature review. In particular
\begin{erquote}
Universals are typically said to be ‘wholly located wherever they are instantiated’.
\end{erquote}
\end{noteforfuture}

\begin{noteforfuture}
 Sally Shlaer and Stephen J. Mellor use the term referential attribute
in their book \textit{OBJECT-ORIENTED SYSTEMS ANALYSIS --- Modeling the World in Data}.
\end{noteforfuture}

Quote from Bertrand Russell --- The Problems of Philosopy Annotated from my copy and then found as a quote online.
\begin{quote}
“The world of universals, therefore, may also be described as the world of being. The world of being is unchangeable, rigid, exact, delightful to the mathematician, the logician, the builder of metaphysical systems, and all who love perfection more than life. The world of existence is fleeting, vague, without sharp boundaries, without any clear plan or arrangement, but it contains all thoughts and feelings, all the data of sense, and all physical objects, everything that can do either good or harm, everything that makes any difference to the value of life and the world. According to our temperaments, we shall prefer the contemplation of the one or of the other. The one we do not prefer will probably seem to us a pale shadow of the one we prefer, and hardly worthy to be regarded as in any sense real. But the truth is that both have the same claim on our impartial attention, both are real, and both are important to the metaphysician.”
\end{quote}

\subsection{Notes on The Distinction between Composition and Reference}
\begin{noteforfuture}
In structured entity modelling the distinction is made between composition relationships and reference relationships and this does such and such. Is this a real distinction? ETC ETC as per.
\end{noteforfuture}

\subsection{Notes on Airline Example}
\begin{noteforfuture}
 The airline flight example. Could model terminals that `support international flights' and also
 model characteristic of a flight whether it is international or not. Instead of having such boolean attribute of flight could instead model country in which a airport is located. 
\end{noteforfuture}
\begin{noteforfuture}
I am drawing Barker figure 3-18 which has a missing but relevant relationship from flight to aircraft.
I have drawn the missing relationship on my copy of the book.

Barker's bullet points that describe what is printed on the boarding pass and why.

I feel like saying that by the same logic that he a
states  in the final bullet point
\textit{as the unique identifier of the flight also includes the relationship to the airline route, we also need the flight number.}
leads to an additional but missing bullet point
\textit{as the unique identifier to the seat also includes the relationship to the aircraft, we also need the registration number (of thew aircraft)}.

The intererst is two fold.
\begin{enumerate}
		\item What is printed on the boarding pass matches the primary key.
		The primary key doesn't need the aircraft registartion number because of the relationship from an flight to an aircraft and because if the fact that the diagram so formed commutes. This is a great example. Everybody knows that the seat the b.p. referes to is on the aircraft that is assigned to fly the flight. Great example. Also see meta data remark below.
		\item Second point of interest and possibly a bit wacky.
		How does the relationship to an aircraft get implmented. In the relationsal database it is stored. But how about on the ground. Well we get the riught pllane because it is parked at the gate and because we check in and are ushered to the correct gate. Therefore there is a relationship between a flight and a gate which is for sakes of argument implemented in information andthere is a relationship between a agte and an aircraft at a point of time (it is parked there). At a point of time the relationship between flight and aircraft is implmented physically in the real world by a combination of physical occurences of relationships. When you localise there is unique aircraft and that must be what is related to. Once we have folloowed the instruction "go to gate 47" there is only one gate (locally) and once the aircraft has parked there is only one aircraft. Not sure this can be carried through and v. abstrcat but maybe keep an eye open for this. 
	\end{enumerate}
Regarding bullet 1 above,
	What 'everybody knows' is meta-data (in fact it is universal) and it is prefereble to represent meta-data once than to represent particular instance (the registration number of the aircraft) many times over. 
\end{noteforfuture}

\subsection{Notes Regarding Referencing Entities and Chen First Cut}

\begin{noteforfuture}
I might be able to get to the equivalence of paths by examining
a noun phrase involving seven referentials.

dramatic role is referenced by reference to production reference to play
\end{noteforfuture}

 \subsubsection {Notes on How Referential Attributes are Accumulated}
 \mynote
 In the examples that we have given above, values of attributes are quoted to reference entities and these values we are calling referentials.  
\mynote
The attributes whose values are quoted to reference a particular entity are
an aggregation of
\begin{itemize}
\item the
identifying attributes that are defined in the entity model for that type of entity aggregated with 
\item
the attributes we need to quote to reference all those entitites reached from the given entity by an identifying relationship, if there are any.
\end{itemize}

\mynote
Because of the second bullet point the description above is recusive. 
To make sense as a definition 
we need to be sure that there are not any loops in the network of identifying relationships.  

\mynote
Without recursion: 
The attributes whose values are quoted to reference a particular entity are 
\begin{itemize}
\item the identifying attributes that are defined in the entity model 
for that type of entity
aggregated with 
\item the identifying attributes of all those entities reachable by paths of identifying relationships.
\end{itemize}  

\mynote 
We need to refine these descriptions to take account of 
equivalent paths of identifying relationships for if
entities of a type can be reached by distict but comparable paths that are known to be equivalent then there is no point in 
referencing entitites of the type twice over. 
Aggregation of attributes is then combined with elimination of known duplicates.
Another way of thinking and speaking about elimination of duplicates is to think and speak of known duplicate referentials 
merging, or collapsing, resulting in referentials that fulfil multiple roles. This we illustrated in figure xxx. 

\mynote 
Naive Algorithm for Accumulation of Identifying Attributes:
 Another way of looking at the matter is based simply on the observation that the referential attributes involved in identifying an entity  type $a$, without
 context,  correspond to the identifying attributes of the entity type $a$ union the set of identifying attributes reaced 
 via paths 
 where  $\langle r_1,...r_n, p \rangle$ where $n \geq 1$ and where
$\overset{r_1}{a \rightpitchfork \hspace{-0.35em} -  \cdot} \overset{r_2}{\rightpitchfork \hspace{-0.35em} -} \cdot ... \overset{r_n}{\rightpitchfork \hspace{-0.35em} -} b$ is a path of single-valued relationships, where 
$r_i$ is identifying for each $i > 1$ and where $p$ is an identifying attribute of the destination entity type $b$ of the
relationship $r_n$. 

This observation is followed up in Barker's book and in the SSADM method as a first cut definition of relational table stuctutre and is incorparted in Chen's transformation from an entity model to a relational design.

In the eventuality that two of these paths are comparable then whether or not the identifying attributes of the destination type need to be double counted, so to speak,
depends on whether or not the comparabe paths are equivalent.
\mynote
This naive approach is flawed just because it doesdn't take accout os euqivalent paths that might exist within the set of entity types and relationships and which ought to be specified in the model as equivalent paths.

\mynote 
Adjusted Algorithm for Accumulation of Identifying Attributes:
\commentary{referential accumulation algorithm}
Describe the algorithm.
Next need to refine this algorithm to take account of commutative relationships. 
To do use define paths of identifying relationships.

\mynote
Mathematical Formulation:
Accumulate into the referential attributes the identifying attributes of the subject entity type
with all the referential attributes of all entity types reached by traversing an identifying relationship.
$$RefAttr_A=IdAtrt_A \cup \bigcup_{I:A \morph B}RefAttr_B$$

\mynote
This example XML is relational in structure. A different way of structuring this message
is this
\begin{verbatim}
<PstlAdr>
  <Building no=120 postcode="60690-0834">
    <Street name="South LaSalle Street">
      <Town name="Chicago">
        <CountrySubdivision name="IL">
            <Country name="US"/>
        </CountrySubdivision>
      </Town>
    </Street>
  </Building>
</PstlAdr>
\end{verbatim}

\mynote
Bearing in mind that I have said that entities, and relationship instances, are particulars
and that the values of attributes, referentials included, are universals then, arguably,
 what we have been examining in this section, 
 is the mechanics behind the following slogan:
\begin{erquote}
We think particulars, but we speak universals.
\end{erquote}
\begin{noteforfuture}
\mynote
A follow up slogan for the coming section on data is
\begin{erquote}
Universals are the stuff of data though its meaning is in the 
particulars --- entities and relationships --- that the universals describe. 
\end{erquote}
\end{noteforfuture}

\subsection{old material from communicating relationships}

\begin{notebox}[Note on Mathematical Terminology]
Remember that we are saying that two paths $x$ and $y$ are \textit{comparable} when they
both have the same source and destination entity types i.e. when there are entity types 
$A$ and $B$ so that $x$ and $y$ are both paths of relationships from $A$ to $B$.
Comparable paths are sometimes equivalent in which case we write
$$ x = y $$
or sometimes either of the two paths might be \textit{subordinate} to the other in which case we case write
$x \leq y$
or 
$y \leq x$, as appropriate.
In some mathematical writing and in similar situations if $x$ and $y$ are distinct and if neither  
$x \leq y$ nor $y \leq x$ then it is said that $x$ and $y$ are incomparable and this is written as
$$x\ ||\ y$$.

In our context we cannot use the term \textit{incomparable} in this way.
We shall use the term \textit{unrelated} instead.

In summary we say that path $x$ is unrelated to path $y$ if the paths are not equivalent paths
and neither $x \leq y$ nor $y \leq x$.

In this case we have paths $d1$ and $r \circ d2$ and we are sayting that if message xxx is an appropriate format then it must be the case that
\begin{equation}
r \circ d2\ ||\ d1
\end{equation}
\end{notebox}

\subsubsection{new diagrams}
\begin{tabular}{ l p{4cm}}
collapsed referential &
\begin{equation}
\label{shlaerLang-DeptStudentProfessor..collapsedReferential..diagram}
\scalebox{0.9}{\input{\handCraftedImagesFolder/shlaerLang-DeptStudentProfessor..collapsedReferential..diagram.tex}}
\end{equation}
\\
nonCollapsedReferential &
\begin{equation}
\label{shlaerLang-DeptStudentProfessor..nonCollapsedReferential..diagram}
\scalebox{0.9}{\input{\handCraftedImagesFolder/shlaerLang-DeptStudentProfessor..nonCollapsedReferential..diagram.tex}}
\end{equation}
\\
absent Referential &
\begin{equation}
\label{shlaerLang-DeptStudentProfessor..absentReferential..diagram}
\scalebox{0.9}{\input{\handCraftedImagesFolder/shlaerLang-DeptStudentProfessor..nonAbsentReferential..diagram.tex}}
\end{equation}
\\
non absent Referential &
\begin{equation}
\label{shlaerLang-DeptStudentProfessor..nonAbsentReferential..diagram}
\scalebox{0.9}{\input{\handCraftedImagesFolder/shlaerLang-DeptStudentProfessor..absentReferential..diagram.tex}}
\end{equation}
\end{tabular}


\subsection{Tabular data}

\setlength{\tabcolsep}{3pt} % Default value: 6pt
{\footnotesize
\begin{tabular}{|l | l|l| l| l| l|}
Touchstone&Shakespeare&As You Like It&April-May 1975&Oxford Playhouse&Bob Hoskins
\end{tabular}
}

\subsubsection{Regarding Air Travel Example}
Like so many examples this diagram doesn't have the full generality needed to be descriptive of all air transport situations (what about airports with multiple terminals? what about code sharing flights? what about change of gauge?\footnote{You might be intersted in looking up use of this term `change of gauge' in relation to air transport
 --- it describes a way of operating an airline service that falls outside the reality described by my diagram here. The term is borrowed (airquotes) from its use describing a reality that might be faced by a rail transport system. }). Nonetheless this is a useful example and it has some very interesting features and has instances of impactful patterns that recur over and again in modelling situations.
