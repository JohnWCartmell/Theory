\section{Identifying Features}
\label{IdentifyingFeatures}
\subsection{The Question of Identity}
\mynote
The focus of this section is the identification of entities ---  we ask, regarding any particular type, how can entities of the type be distinguished from one other 
--- what distinguishing features do they have? 

For there to be an answer to this question then we must assume that no two entities of the given type are alike in all their features. This in fact  is a philosophical position 
--- it is called the principle of the identity of indiscernibles. 
While this principle is contested in philosophy, in entity modelling we tend to assume it holds.
Thus we work under the assumption that no two entities are exactly the same in all their features, where by feature we mean an attribute or a relationship with another entity. 

From this assumption, it follows that for any type of entity there is a minimum set of features sufficient to distinguish any two entities of the type. Any such set of features is said to be identifying as it gives us a way of identifying and therefore referencing entities of the type. 

 Generally, 
 the identifying features will consist of a combination of attributes and relationships, 
 with the relationships being functional relationships to other entities. 
Though it is the set as a whole that is \textit{identifying} 
informally we shall say that each of the attributes and relationships in the set is identifying. 

Such a set has a simple mathematical characterisation, which we come to later after presenting various
examples  of identifying features and the notation used to represent them.

\subsection{The Significance of Identifying Features}

\mynote 
It is desirable that an entity model documents identifying features for the types of entities it describes and  it is  absolutely necessary for most types in those models that are to be used as data specifications as we will come to in a later section. 

\mynote
The reason for this is that identifying features give us concrete ways of referencing entities within a context and thereby enables us to describe the relationships between entities. As a consequence they provide a means for communicating  relationships and this ultimately facilitates the storage of representations of entities in data systems.

\subsection{Notation}
 \mynote
Various conventions have been used diagrammatically to convey that an attribute is identifying. In Barker's book the \# symbol is placed to the left of the attribute to indicate as much. In diagrams in this book the name of the attribute is underlined and this is consistent with papers on relational theory in which  the names of columns are underlined to show that they are key columns.

\mynote Identifying relationships on the other hand, both in this book and in Barker's book 
are distinguished by drawing a bar across them so that they like this: \barkerEllisJ\ or like this: \barkerEllisK.

 
\subsection{Examples}
\mynote
Flight number, payment card number, country code, international bank account number (IBAN), 
international standard book number (ISBN), social security number, passport number, part number, serial number and many like attributes are designed specifically for the purpose of enabling unique identification of entities of a particular type so that each entity of the type can be referenced. Such attributes are said to be identifying attributes and are underlined 
on diagrams, in this book at least, to indicate as much. 
Attributes such as ISBN and IBAN are designed to be globally uniquebut many identifying attributes are only unique within specific contexts:
\begin{itemize}
\item
car registration plate number and passport number have values that are unique, and are therefore identifying, only with respect to particular issuing authorities, for example at a national level,
\item part numbers may be unique with respect to particular part suppliers or manufacturers,
\item airport terminal numbers are unique and therefore identifying with respect to the airports they are located at.
\end{itemize}
In these context dependent cases the underlining of the identifying attribute is combined with the barring of the context providing relationship as shown here in fragments in which, in the absence of other detail, types \textit{passport}, \textit{part} and \textit{terminal} are shown to be uniquely identifying  in relation
to \textit{country}, \textit{supplier} and \textit{airport}, respectively, 
and in which these later types are shown to have instances uniquely identified by name:

\begin{tabular} {m{3.5cm} m{3.5cm} m{3.5cm}}
\input{\ImagesFolder/countryPassport1.tex} &
\input{\ImagesFolder/supplierPart1.tex} &
\input{\ImagesFolder/airportTerminal1.tex}
\end{tabular}

\subsubsection{Two or more identifying attributes}
For some types, the values of more than one attribute need be examined to distinguish entities of the type ---  as with a multi-dimensional coordinate system ---
a number of attributes provide values that taken together are unique 
and enable an entity to be uniquely identified and referenced.  
In such cases there is a plurality of attributes, such as latitude and longitude, for example, 
and is the plurality which  can be said to be identifying. 
This is depicted by underlining each attribute that is in the set as in the following
in which spot heights on maps are shown to be identifiable by the combination of latitude and longitude within the context of the map:
 \begin{equation}
 \raisebox{-0.5cm}{\input{\ImagesFolder/mapSpotHeight1.tex}}
 \end{equation} 
\mynote 
For a second example, 
consider modelling the type \textit{person} whose instances, of course, are people.
Now people are tricky to identify from a few well defined attributes but for some purposes at least the attributes full name, date of birth, and  home address might be considered sufficient. In an entity model this would be shown by underlining these three atributes like this:

\begin{equation}
\label{personAttributes2}
\raisebox{-1.5cm}{\input{\ImagesFolder/personAttributes2.tex}}
\end{equation}

\subsubsection{Intersection Entities}
\mynote \commentary{move to beginning and refer back.}
For some types in some circumstances there are no attributes and only relationships in the identifying set. 
We saw an example earlier
in figure \ref{employeeProjectWorkerMediatedAttributed} in  which there is an entity type
\textit{project assignment} which implements a many-many relationship between employees and projects. 
Such entity types as this are common in the Barker-Ellis notation 
standing as they do in positions that would be occupied many-many relationships
 and depicted by  diamonds in Chen's notation. 
 Because the type `project assignment' implements a many-many relationship, we can be sure that entities of the type  are uniquely identified by 
 identifying the employee that they assign in combination with the project they assign to. This means that the relationships \textit{assigning} and \textit{to work on}, in combination, are identifying features of the type. This has been indicated in 
figure  \ref{employeeProjectWorkerMediatedAttributed} by the bars drawn across these two relationships. As I mentioned before such types as this are sometimes said to be intersection entities.


\subsection{Cascaded Identification}
\label{Cascaded Identification}
\mynote
A type is characterised as having cascaded identification if instances are specified as being, in part, identified by relationships with other types which themselves are specified to be, in part at least, identified by relationships with other types.
\mynote
We see an example in this detail
\begin{equation*}
\input{\ImagesFolder/dramaticArtsCharacterFragment..diagram.tex}
\end{equation*}
which is contained within of the model of the dramatic arts presented in figure \ref{dramaticArts1}. 
In this detail we see that
\begin{itemize}
\item
instances of  type play have been specified to be identified by their title 
in the context of the playwright  they are written by.
The model has been specified in this way 
because it is a fair assumption that no two plays by the same playwright have the same title
whereas occasionally, though admittedly not very often, 
two different plays by different playwrights do have the same title.  
\item instances of the type character, on the other hand,  are shown to be identified by their name within the context of the play in which they appear. 
The model is specified so because it is often the case that characters from different plays have the same name, such as the multiple Sebastians in the plays of William Shakespeare, but it is never the case that two different characters in a single play have exactly the same names.
\end{itemize}

The cascade in view in this detail, is 
(i)  part of identifying a character is to identify a play and, in turn,
(ii) part of identifying a play is to identify a playwright. 
Sometime we may speak of the name attribute of the playwright as being a cascaded identifier of the type character. Considered through the lens of attributes alone, a character is identified by the name of the character and, 
cascaded, the title of the play and the name of the playwright.
It is this attribute-lensed view that comes to the fore if and when we go on to represent these same concepts in tabular data.  

Further cascades come to light if you examine the type of dramatic role 
as specified in the diagram in figure \ref{dramaticArts1}. I will leave it to the reader to examine the multiple cascaded attributes involved in the identification of instances of the dramatic role type, as represented in that figure. 
We return to this example and to the subject of identification and referencing in the next section.

\erboxedFigPicture{dramaticArts1..diagram}{h}
{This example is based to some extent on an example developed 
in David Hay's book``Data Model Patterns --- Conventions of Thought''
and presented in his figure 12.7 `The Theatrical Production Company'.
I have made choices in specifying this model.
I have ensured there are layers and multiplicities of identification but also so that I can fit the diagram on a single page. 
One detail to be seen in the model is that a production of a play is specified as 
being identified by a combination of a play, the venue and the season.
For the season of a production I have in mind a description of a date range such as  ``Spring 1985'', say. 
If you examine the model and chase the identifying relationships
then you will find that describing a particular instance of a role being played by an actor will involve identifying
instances of every single type within the model. I will be spelling this out in detail in the next section.
As with most models there are caveats and exceptions in practice that do not fit the model. 
One exception here is that a play might be coauthored. This isn't covered by the model.
Another exception is that a single production might tour the country rather than being at a single venue. Again this isn't covered by the model. }

\subsection {Mathematical Characterisation}
\mynote From a mathematical perspective, 
each feature of an entity type can be represented by a function. A set of features is sufficient to uniquely identify entities of a type if and only if when thought  of in this way the set is \textit{jointly injective}.   
See subsection \ref{JointlyInjective} for a definition of this term.

\subsection{Summary}
\mynote A set of features of a type of entity i.e. a set of attributes and outgoing directional relationships, is said to be \textit{identifying} provided that the values of these features,
taken together, is guaranteed to uniquely identify an entity of the type i.e. to be such that no two distinct entities of the type can have identical values for all of the features. 

\mynote In the simplest cases a single attribute will suffice. 
Social security number, part no, 
passport number and like attributes are designed to uniquely identify entities of the type from others of the type. 
An example of this 
in  shown in figure \ref{boardingPass2} in which entities of type \textit{airline route} are uniquely identified by a \textit{flight number} attribute.
This is
indicated in the diagram  by the underlining of the name of this attribute where it appears on the diagram.\footnote{Aside: There is a trivial difference here from Barker's notation because he distinguishes the identifying attributes with a \# symbol where we here use  underlining.} 


\mynote A final point, as we have said, identifying attributes are of particular significance with regard to 
 how relationships are represented in data and therefore how communicated and stored.
They are also significant in evaluating the goodness of an entity model, as we will see later.





 
