\section{Identifying Features}
\label{IdentifyingFeatures}
\mynote
Flight number, payment card number, country code, international bank account number (IBAN), 
international standard book number (ISBN), social security number, passport number, part number and many like attributes are designed to uniquely identify entities of a type and to distinguish them from others of the same type. They can be said to be identifying attributes.
\mynote 
 Sometimes, as in a coordinate system, it is a combination of attributes 
 that provide values that taken together are unique and that enable an entity to be uniquely identified.  In such a case it is a set of attributes, such as latitude and longitude, rather than an individual attribute, that can be said to be identifying.

\mynote 
Whereas some attributes, such as ISBN and IBAN, are designed to be globally unique others such as 
car registration plate number and passport number have values that are unique, and are therefore identifying, only with respect to particular issuing authorities, typically at a national level.

\mynote
In entity modelling there are a number of reasons why we will likely be  interested in documenting
which attributes  are uniquely valued and therefore identifying and in which contexts. 
Many  entity 
relationship diagram notations enable representation of such attributes and contexts.
The style we use in this book will be explained shortly.

\mynote 
We argue that it is desirable that an entity model documents identifying features for the types of entities it describes and that it is absolutely necessary for most types in those models that are to be used as data specifications. 

\mynote 
One argument uses a philosophical perspective according to which real world entities must have features that can be used to discriminate them i.e. to identify them -- this is called the principle of the identity of indiscernibles. 
According to this argument, these identifying features may be 
represented by attributes and relationships of a type in an entity model to give meaning to the type
by establish a precise correlation between instances of the type and 
`real world' entities -- for without such identifying features, goes the argument, how can we precisely correlate instances of our types with real world counterparts?
In summary, identifying features give meaning to our entity models by establishing correlations of our notional entities with real world entities.

\mynote
Sometimes in a situation being modelled, entitites of a type are named and then in the model
we can represent name as an attribute associated with entitites of the type.  
Such name attributes are architypal examples of identifying attributes --- we name things so that we can identify them in context. In such a situation the name of an entity, i.e. the value of the name attribute,  can be used in context to definitively identify the entity.
Quoting this value, i.e. using the name, is one way of referencing an entity of the type from within the context of another entity. This is illustrated in  an example given earlier in which we presented this statement
\begin{equation}
\label{JupiterIoShort}
\mbox{\textit{Jupiter is orbited by Io.}}
\end{equation}
as a representation of an instance of the binary relationship
\begin{gather}
\label{planetMoon}
\raisebox{-1cm}{
\input{\ImagesFolder/planetMoon.tex}
}
\end{gather}

In the context of statement (\ref{JupiterIoShort}), Jupiter is the name of and therefore  a reference to a planet and  Io is the name of and therefore a reference to a moon i.e. a natural satellite.  
We understand  (\ref{JupiterIoShort}), theerefore, to be shorthand for the 
more pernickerty 
\begin{equation}
\mbox{\textit{The planet with name `Jupiter' is orbited by the moon with name `Io'.}}
\end{equation}

As an aside, note that in other contexts, both Jupiter and Io are names of mythological figures. In fact, there is also an asteroid named Io. These names are only unique within the specific contexts of planets and moons, respectively.

\mynote
We are very much stating the obvious of course but there is a pattern here and it is repeated over and over when instances of relationships are communicated  and the same pattern occurs more formally  and uniformly when instances of relationships are communicated and/or stored in data.

\mynote
 Not just name attributes but identifying attributes more generally provide us with ways of 
 referencing entitites and thereby communicating instances of relationships. 
 This is often the most pragmatic reason for requiring types to have associated identifying feature. 

 \mynote
Various conventions have been used diagrammatically to convey that an attribute is identifying. In Barker's book the \# symbol is placed to the left of the attribute to indicate as much. In diagrams in this book the name of the attribute is underlined and this is consistent with many papers on relational theory in which  the names of columns are underlined to show that they are key columns. 
We can modify () by adding the naming of planets and moon and graphically representing them as identifying attributes as follows:




\mynote
Whereas the names of moons and planets are unique in the context of the solar system then the names of characters in Shakespeare's plays are not. Shakepears's charcaters are named unqiuely only within the context of individual plays. To show this on an entity relationship diagram we underline the name attribute and put a bar through the relationshiop of a character with  play as shown here:


\mynote Now obviously a character is referenced from within a play by use of their name., of course they are.
So we have, in the context of the plays of William Shakepeare,

\begin{equation}
\mbox{\textit{The character Antonio in Twelth Night loves Sebastian.}
\end{equation} 


So Antonio is the name of a character in five of Shakespeare's plays and in two of these there is a character named Sebastian. 
\begin{multline}
\mbox{\textit{Antonio  is a sea captain who loves  Sebastian in Twelfth Night.}} \\
\mbox{\textit{Antonio  is the brother of Prospero who conspires with Sebastian in the Tempest.} }
\end{multline}

On the otherhand contrast with
\begin{equation}
\mbox{\textit{w from x bears striking resemblance to y from z.}}
\end{equation}

w,x,y and z are referentials

Antonio, SEbastian and twelth Night are referentials. Why are there not four referentials in this communication. Because two of the four have collapsed into one. 

Antonio and Twelth Night refer
Sebastian and Twelth Nioght refer.

Twelth Night doubles up.



Now two plays arev referenced this is because bears striking resenmbalnce to is not internal relationship.

\mynote A little more concretely 
\begin{itemize}
\item attributes that are unique in context give us ways of identifying entities in that context, 
\item they give us ways of referencing one entity from the context of another, 
\item they give us ways of describing a relationship of one entity to another,
\item they give us ways of communicating relationships from within the context of an entity,
\item they give us ways of communicating entities, 
\item ultimately this facilitates the storage of entities in data systems. 
\end{itemize}

\mynote
Identifying attributes give us concrete ways of identifying entities within a context. Therefore, they allow us to reference one entity in the context of another. This enables us to describe the relationships between entities. Consequently, they provide methods for communicating these relationships within the context of an entity, which ultimately facilitates the storage of entities in data systems

\mynote Identifying attributes are of particular significance with regard to 
\begin{itemize}
	\item how relationships are represented in data and therefore how communicated and stored,
	\item evaluating the goodness of an entity model.
\end{itemize}  

\mynote
It is obvious from these examples that such attributes only identify uniquely within an overall system or context. If this system or context is the subject of an entity model, or if it dominates the subject, then these attributes are documented in the entity model as identifying attributes. 

\mynote From a mathematical perspective, attributes can be viewed as partial functions. Identifying attributes are total functions that are injective.  

\mynote
A marriage entity you might think to be uniquely identifiable from its context of being a marriage between two distinct people. But it isn't since there are two distinct marriages of film stars Richard Burton and Elizabeth Taylor. Instead we must say that it is the date of a marriage that identifies it with respect to these two film stars or the ordinal number (and so we say the first marriage, the second marriage and so on).

\mynote Sometimes entities are unique with respect to the contexts in which they arise. In cases such as this they are identified by the relationships they have with other entities. They are sometimes said to be intersection entities.

\commentary{referential attributes represent data not concept}
\commentary{relationships model concept and context not data}



\mynote
More generally an attribute may only be identifying in more restrictive contexts and in the case it will be identifying 

\commentary{Sort code and account number. The relational analysis of attributes.} 

\mynote A set of features of a type of entity i.e. a set of attributes and outgoing direction We say that al relationships, is said to be \textit{identifying} provided that the values of these features,
taken together, is guaranteed to uniquely identify an entity of the type i.e. to be such that no two distinct entities of the type can have identical values for all of the features. 

\mynote In the simplest cases a single attribute will suffice. Social security number, part no, 
passport number and like attributes are designed to uniquely identify entities of the type from others of the type. 
An example of this 
in  shown in figure \ref{boardingPass2} in which entities of type \textit{airline route} are uniquely identified by a \textit{flight number} attribute.
This is
indicated in the diagram  by the underlining of the name of this attribute where it appears on the diagram.\footnote{Aside: There is a trivial difference here from Barker's notation because he distinguishes the identifying attributes with a \# symbol where we here use  underlining.} 

\mynote In this simplest case  a singleton set containing a single attribute is identifying.

\mynote In other cases the set of identifying features will consist of a number of attributes. In such case  the values of these attributes taken together, uniquely identify entities of the type. Context is most significant though. \commentary{There are two contexts at play here. The context of an individual entity within the model and the context of the model as a whole.}
If the context of an entity model is an individual map then a spot height is identified by a combination of latitude and longitude as shown here by underlining the two attributes latitude and longitude: 

\begin{center}
\input{\ImagesFolder/mapSpotHeight0.tex}
\end{center}

However if the context is that of a catalogue of maps then latitude and longitude only identify within the context of the map on which the spot height is depicted. The outgoing contextual relationship \textit{depicted on}
has to be included in the set of identifying features for this type of entity. In the Barker-Ellis notation this is shown by drawing a bar across the relationship as shown here:  

\begin{center}
\input{\ImagesFolder/mapSpotHeight1.tex}
\end{center}

\mynote Work on this example from page 3-13 of Barker.
\commentary{flight needs data  of departure (time of departure not required)}

\erboxedFigPicture{boardingPass2}{H}
{This example is based on an example developed in the Barker book. I have simplified in some areas.}

\commentary{airline route versus flight reminds me of Sassure discussion re: trains}



\begin{noteforfuture}
unreal identities - range from ISBNs and such to system-specific identifiers. part numbers.
\end{noteforfuture}



 
