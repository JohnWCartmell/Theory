\documentclass[10pt,a4paper]{scrartcl}
%\usepackage[margin=3cm]{geometry} %see below for making room for margin comments
\usepackage{url}
\usepackage{hyperref}
\usepackage{environ}
\NewEnviron{shrunkdisplay}{%
\begin{equation*}
\scalebox{0.9}{$\BODY$}
\end{equation*}
}

\input{../SharedMacros/theorems.macros}
\input{../SharedMacros/ccategories.macros}
\input{../SharedMacros/gats.macros}
\input{../SharedMacros/metagat.macros}
\input{../SharedMacros/ermacros}
\input{../SharedMacros/erdiagram}
\input{../SharedMacros/indexedsets.macros}
\usepackage{ulem} % for \sout for use by \oldt macro
\input{../SharedMacros/general.macros}

\renewcommand{\erpictureFolder}[0]{../SharedPictures}

% support margin notes
\usepackage[left=1.5cm, right=4cm, marginparwidth=3cm, top=2cm, bottom=2.0cm]{geometry}
\setcounter{equation}{0}
\bibliographystyle{plain} % was hplain

\title{Notes on Categories - Work in Progress}
\author{John Cartmell\footnote{john.w.cartmell gmail.com}\\ \normalsize{\textit{Ad Otium}}}
\begin{document}
\section {Object Congruences}
\newcommand{\catc}{\cat{C}}
\newcommand{\catcw}{\cat{C}\ }
\begin{definition}
If \catcw is a category  then by an \term{object congruence} $\tuple{\sim,i}$ on \catcw we mean  an equivalence relation $\sim$ on objects of the category and for each pair
of $a, a'$ of equivalent objects of \catcw a morphism $i_{a,a'}:a \morph a'$ such that
\begin{enumerate} [(i)]
\item  for all objects $a$ of \catc, $i_{a,a}=id_a$,
\item for all objects $a, a', a''$ of \catc, $i_{a,a'}\circ i_{a',a''}=i_{a,a''}$.
\end{enumerate} 
\end{definition}

\begin{lemma}
\llabel{iiso}
If $\tuple{\sim,i}$ is an object congruence on a category \catcw then
for all objects $a,a'$ such that $a \sim a'$, the morphism $i_{a,a'}$ is an isomorphism with inverse $i_{a',a}$.
\end{lemma}
\begin{proof}
\begin{align*}
i_{a,a'} \circ i_{a',a} &= i_{a,a} &&\mbox{from condition (ii) of definition of object congruence}, \\
                        &= id_a    &&\mbox{from condition (i) of definition of object congruence}.
\end{align*}
\end{proof}

Define the quotient category $Q_C$ defined by an object congruence $\tuple{\sim,i}$ within a category \catcw to be the category
having as objects equivalence classes of objects of $\catcw$ under the relations $\sim$ 
and having as morphisms  $Hom_{Q_C}([a],[b])$ equivalence classes of the set
\begin{displaymath}
\bigcup_{a' \in [a]}\bigcup_{b' \in [b]}Hom(a',b')
\end{displaymath}
under the equivalence relation $\approx$ which is defined, for $f: a \morph b$ and $f': a' \morph b'$ in  \catcw, by
\begin{displaymath}
f \approx f' \mbox{ iff } f \circ i_{b,b'} = i_{a,a'} \circ f'.
\end{displaymath}
That $\approx$ is an equivalence relationship is established by showing it to be symmetric and transitive.
It is symmetric because 
if $f: a \morph b$ and $f': a' \morph b'$ in  \catcw and if $f \approx f'$ then 
\begin{align*}
                  && f \circ i_{b,b'} & = i_{a,a'} \circ f'  && \mbox{by definition of $f \approx f'$} \\
\mbox{therefore}		&& i_{a',a} \circ f \circ i_{b,b'}  \circ i_{b',b}  & = i_{a',a} \circ i_{a,a'} \circ f' \circ i_{b',b} && \\
\mbox{therefore}		&& i_{a',a} \circ f  = f' \circ i_{b',b} && \mbox{by lemma \lref{iiso}, as required.} 
\end{align*}

$\approx$ is transitive because 
if $f: a \morph b$, $f': a' \morph b'$ and $f'': a'' \morph b''$ in  \catcw and if $f \approx f'$ and $f' \approx f''$ then
\begin{align*}
f \circ i_{b,b''} &=  f \circ i_{b,b'} \circ i_{b',b''}  && \mbox{by condition(ii) of definition of object congruence,} \\
                  &= i_{a,a'} \circ f' \circ i_{b',b''}  && \mbox{since $f \approx f'$}, \\
									&= i_{a,a'} \circ i_{a',a''} \circ f'' && \mbox{since $f' \approx f''$}, \\
									&= i_{a,a''} \circ f''                 && \mbox{by condition(ii) of definition of object congruence}
\end{align*}
and so we have shown that $f \approx f''$, as required.

Define composition of morphisms in $Q_C$ as follows.  If
 $f:a \morph b$ and $g: b' \morph c$ in \catcw, then define $[f] \circ [g]$ in $Q_C$ to be $[f \circ i_{b,b'} \circ g]$.

We need show that composition is well defined.  Assume $f:a \morph b$, $g: b' \morph c$, $f':a' \morph b''$ and $g': b''' \morph c'$ in \catcw and that
$f \approx f'$ and $g \approx g'$ then 
$[f] \circ [g]$ we have defined to be $[f \circ i_{b,b'} \circ g]$  and $[f']  \circ [g']$ we have defined to be $[f' \circ i_{b'',b'''} \circ g']$
and to show that composition in $Q_C$ is well defined we need to show that these are the same i.e. that $f \circ i_{b,b'} \circ g \approx f' \circ i_{b'',b'''} \circ g'$. This identity
is expressed by the commutivity of the outer square in the diagram below and follows from the commutivity of the inner squares which follow respectively from the assumption that $f \approx f'$,
from the condition (ii) of definition of an object congruence and from the assumption that $g \approx g'$.

\vspace{3mm}
\begin{center}
\begin{displaymath}
\begin{array}{cp{.9cm}cp{.9cm}cp{.9cm}c}
\Rnode{Top1}{a} & & \Rnode{Top2}{b}  & & \Rnode{Top3}{b'} && \Rnode{Top4}{c}\\ [1.2cm]
\Rnode{Bottom1}{a'} & & \Rnode{Bottom2}{b''}  & & \Rnode{Bottom3}{b'''} && \Rnode{Bottom4}{c'}
\end{array}
\end{displaymath}
\ncarr{Top1}{Top2}
\alabel{f}
\ncarr{Top2}{Top3}
\alabel{i_{b,b'} }
\ncarr{Top3}{Top4}
\alabel{g}
\ncarr{Top1}{Bottom1}
\blabel{i_{a,a'}}
\ncarr{Top2}{Bottom2}
\blabel{i_{b,b''} }
\ncarr{Top3}{Bottom3}
\blabel{i_{b',b'''} }
\ncarr{Top4}{Bottom4}
\alabel{i_{c,c'}}
\ncarr{Bottom1}{Bottom2}
\blabel{f'}
\ncarr{Bottom2}{Bottom3}
\blabel{i_{b'',b'''} }
\ncarr{Bottom3}{Bottom4}
\blabel{g'}
\end{center}


The identity morphism on object $[a]$ is defined to be $[id_a]$
and composition  is defined,  for
 $f:a \morph b$ and $g: b' \morph c$ in \catcw, by $[f] \circ [g]=[f \circ i_{b,b'} \circ g]$.

If $a$ is an object of $\catcw$ then $id_{[a]}$ is a left identity since if  $a \sim a'$ and $f:a' \morph b$ then 
\begin{align*}
id_{[a]} \circ [f] & = [id_a] \circ f                                             \\
                 &= [i_{a,a'} \circ f]                                            \\
                 &= [f]                & &\mbox {by definition of $\approx$. }
\end{align*}
$id_{[a]}$ is a right identity since if $f:a \morph b$ and $b \sim b'$  then

\begin{align*}
[f] \circ id_{[b']} \circ  & = [f]  \circ [id_{b'}]                                     \\
                 &=  [f \circ i_{b,b'} \circ id_{b'} ]                                  \\
                 &=  [f \circ i_{b,b'} ]                                                \\
                 &=  [f]                & &\mbox {by definition of $\approx$. }
\end{align*}


Composition is associative because if $f:a \morph b$, $g: b' \morph c$  and $h: c' \morph d$ in \catcw then
\begin{align*}
[f] \circ ([g] \circ [h]) &= [f \circ [g \circ i_{c,c'} \circ h]               \\
                          &= [f \circ i_{b,b'} \circ g \circ i_{c,c'} \circ h] \\
													&= [f \circ i_{b,b'} \circ g] \circ [h]              \\
													&= ([f] \circ [g]) \circ [h].
\end{align*}
This completes the defintion of the category $Q_C$.
Note that there is a functor $F: \catc \morph Q_C$ defined by
\begin{align*}
       a & \mapsto [a] \\
			 f & \mapsto [f]
\end{align*}
The functor $F$ is faithful because if $f,g : a \morph b$ in \catcw then $[f]=[g]$ because $f \circ i_{b,b}=i_{a,a} \circ g$ by condition (i) of the definition of object congruence.
\newpage
\section{Categories}


\subsection{Characterising Diagrams}
Definition in general setting\daynote{Thurs 19 July 2018}

\section{Categories with Products}

\subsection{Example of Data Model which is non-cancellative}
This could be used in preparation for a mathematical theory of data.
\daynote{Tues 28th Oct 2018.}
\subsection{Construction of a category with symetric products}
\daynote{Thurs 11th Oct 2018.}
Construction is non-algebraic but probably relevant to definition of dependency category
and reminiscent of attempted definition of monotonic permutative realisation.
Might the definition of category with symetric products be generalised algebraic even though appears not to be? No but worth trying to find express as algebraically as possible. Need number of instances of each of a set of (distinct) types. 







\bibliography{../SharedBibliography/temp/bibliography}

\end{document}
