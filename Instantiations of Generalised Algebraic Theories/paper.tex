
 \documentclass[10pt,a4paper]{article}
%\input{thepreamble.tex}
\input{../SharedMacros/ccategories.macros}
\input{../SharedMacros/gats.macros}
\input{../SharedMacros/metagat.macros}
\input{../SharedMacros/ermacros}
\input{../SharedMacros/erdiagram}
\input{../SharedMacros/theorems.macros}
\input{../SharedMacros/general.macros}
\input{../SharedMacros/diagram.macros}
\usepackage{mathptmx}  % This changes font to roman
\usepackage{anyfontsize}
\usepackage{mathtools}  % why have we got this?
\usepackage{alltt} 
\usepackage{cmll}
\usepackage{ulem}
\renewcommand{\ttdefault}{txtt}
\usepackage[left=1.5cm, right=4cm, marginparwidth=3cm, top=2cm, bottom=2.0cm]{geometry}
\usepackage{framed}
\usepackage[font=small]{caption}
\usepackage{changepage}

\usepackage[hidelinks=true]{hyperref}   % I have become depedent on this get error otherwise... but i don't know why



\setlength{\captionmargin}{2cm}
\theoremstyle{remark}
\newtheorem*{lemma*}{Lemma}

% have boxed figures
\usepackage{float}
\floatstyle{ruled} 
\restylefloat{figure}
\restylefloat{table}

\usepackage{colortbl}

%\usepackage{mathabox} % wanted this for \lcorners \rcorners but sadly error: mathabox.sty not found

\newtheorem*{lemmastar}{Lemma}

\NewEnviron{tightquote} %italic text indented left and right hand side
{\begin{adjustwidth}{1.5cm}{1.5cm}
\textit{
\BODY
}
\end{adjustwidth}
}

\usepackage{amsmath}
\mathchardef\mhyphen="2D % Define a "math hyphen"

\newcommand{\Ualg}{U \mhyphen alg}
\newcommand{\Upalg}{U' \mhyphen alg}
\newcommand{\Ialg}{I \mhyphen alg}
\newcommand{\catofccs}{\mathbf{Concat}}
\newcommand{\catoflargerccs}{\mathbf{CONCAT}}
%\newcommand{\alg}[1]{{#1}_{alg}}
\newcommand{\alg}[1]{alg(#1)}
\newcommand{\cc}[1]{cc(#1)}
\newcommand{\tccalgebra}{$tcc$-algebra\ }
\newcommand{\tccalgebras}{$tcc$-algebras\ }
\newcommand{\FAM}{\ensuremath{\mathbb{F\mathrm{AM}} }}

\def\therefore{\boldsymbol{\text{ }
\leavevmode
\lower0.4ex\hbox{$\cdot$}
\kern-.5em\raise0.7ex\hbox{$\cdot$}
\kern-0.55em\lower0.4ex\hbox{$\cdot$}
\thinspace\text{ }}}


\NewEnviron{point}
{\begin{adjustwidth}{1.5cm}{1.5cm}
\textbullet\ 
\BODY
\end{adjustwidth}
}

\begin{document}

\title{Instantiations of Generalised Algebraic Theories in Contextual Categories}

\author{John Cartmell}

\maketitle



\newcommand{\gatU}{\gat[U]}
\newcommand{\gatUw}{\gatU\ }
\newcommand{\CofU}{\ccat[C](\gat[U])}
\newcommand{\KU}{K_{\gat[U]}}
\newcommand{\KUp}{K_{\gat[U']}}
\newcommand{\catCon}{\cat{Con}}
\newcommand{\catGAT}{\cat{GAT}}

\newcommand{\gatrule}[2]{$#1 \tstyle #2$}

\newcommand{\inlinedisplay}[1]
{
\setlength{\fboxsep}{1.5pt}
\setlength{\fboxrule}{0pt}
\fbox{$\displaystyle #1$}
}


%\iffalse
\newcommand{\Isort}{I_{sort}}
\newcommand{\Iop}{I_{op}}
\newcommand {\Ihat}{\hat{I}}
%\fi

% workaround when used with Rnode for size of font used under the cross
\renewcommand{\crossx}[3]{#1 \underset{\tiny #3}{\cross} #2}
\newcommand{\fonestar}   {{f_1}\kern-.15em^*}
\newcommand{\ftwostar}   {{f_2}\kern-.15em^*}
\newcommand{\fjstar}     {{f_j}\kern-.2em^*}
\newcommand{\fjpstar}    {{f_{j-1}}\kern-.25em^*}
\newcommand{\smstar}{{s_m}\kern-.25em^*}
\newcommand{\sonestar}{{s_1}\kern-.15em^*}

\newcommand{\Trule} {T-rule\ }
\newcommand{\trule} {$\in$-rule\ }
\newcommand{\Teqrule} {T=-rule\ }
\newcommand{\teqrule} {$\in=$-rule\ }

\newcommand{\Imapsto}{\scaleto{\mapsto}{10pt}}

\definecolor{lightergrey}{rgb}{0.9,0.9,0.9}
%\gatinterpretationdetail{label}{rulepremise}{ruleconclusion}{mapping}{justification}
\newcommand{\gatinterpretationdetail}[5]{
\refstepcounter{equation}(\theequation)\label{#1}& \gatrule{#2}{#3}&$\mapsto$&&$#4$&#5}

\newcommand{\gatinterpretationintro}[5]{
\refstepcounter{equation}(\theequation)\label{#1}& \gatrule{#2}{#3}&$\mapsto$&&\cellcolor{lightergrey}$#4$&#5}

%\gatinterpretationmapeqv{equivalentmapping}{justificaton}
\newcommand{\gatinterpretationmapeqv}[2]{&&&=&\ \ $#1$&#2}
\newcommand{\gatinterpretationmapeqvsingle}[1]{&&&=&\multicolumn{2}{l}{\ \ $#1$}}

\newcommand{\gatinterpretationaxcond}[5]{
\refstepcounter{equation}(\theequation)\label{#1}& \gatrule{#2}{#3}&$\scriptstyle iff$&&\cellcolor{lightergrey}$#4$&#5}

\newcommand{\gatinterpretationaxcondrhscontinuation}[2]{ &&&& \cellcolor{lightergrey}\hspace{0.5cm} $#1$ &{#2}}

%\gatinterpretationaxeqv{equivalentcondition}{justificaton}
\newcommand{\gatinterpretationaxeqv}[2]{&&$\scriptstyle iff$&&$#1$&#2}


\newcommand{\bigtuple}[1]{\big \langle #1 \big \rangle}


\newcommand{\highlightpara}[1]{\colorbox{highlight}{%
    \parbox{\dimexpr\linewidth-2\fboxsep}% a box with line-breaks that's just wide enough
        {#1}}
}
		
\commentary{I am going to some lengths not to speak of `models of theories' because I prefer to use the term `model' not as logicians use it but as other theoreticians (economists, biologists, physicists etc) use it and also as used by data analysts in the description of data specifications.
}In these notes we describe a broad notion of `model of a generalised algebraic theory \gatUw' by defining the notion of 
an \highlight{`instantiation of  a generalised algebraic theory \gatUw in a contextual category \catc'}. \\

I wrote these notes after receiving a note on generalised algebraic theories and categories with families
 (\cite{BCDEpaper}) from Peter Dybjer. 
\section{Overview}
\input{overview}

\section{Background regarding Generalised Algebraic Theories}
\input{GeneralisedAlgebraicTheories}

\section{Background regarding Contextual Categories}
\input{contextualnotation}

\section{The Instantiation of Generalised Algebraic Theories within Contextual Categories}
\label{sectioninwhichinstantiationisdefined}
\input{instantiations}

\section{Examples}
\subsection{Internal Monoids -- Instantiations of the Theory of Monoids within Contextual Categories}
\label{monoidsinstantiationexample} 
\input{monoidsinstantiationexample} 


\subsection{Internal Catgeories -- Instantiations of the Theory of Categories within Contextual Categories}

\label{categoriesinstantiationexample}
\input{categoriesinstantiationexample}

%unused
%\section{Unused}
%\input{unused}

%\bibliographystyle{alpha} 
\bibliographystyle{abbrv}
\bibliography{../SharedBibliography/temp/bibliography}
\end{document}
