\usepackage{imakeidx}
\usepackage{framed}
\makeindex[name=definitions, title=Index of Definitions]
\makeindex[name=lemmas, title=Index of Lemmas]



\newcommand{\seenudgeup}[1]{\rule{0.1cm}{#1}}

\newcommand{\seenudgedown}[1]{\rule[-#1]{0.1cm}{0.1cm}}

\newcommand{\nudgeup}[1]{\rule{0cm}{#1}}

\newcommand{\nudgedown}[1]{\rule[-#1]{0cm}{0.1cm}}

\definecolor{highlight}{cmyk}{0,0,0.7,0}
\newcommand{\commentary}[1]{\marginpar{\footnotesize #1}}
\newcommand{\highlight}[1]{\colorbox{highlight}{#1}}
\newcommand{\whitelight}[1]{\colorbox{white}{#1}}
\newcommand{\term}[1]{\textit{#1}\commentary{\colorbox{lightgray}{\textit{#1}}}\index[definitions]{#1}}
\newcommand{\llabel}[1]{\label{#1}\commentary{\colorbox{pink}{\scriptsize{#1}}}\index[lemmas]{#1}}
\newcommand{\lref}[1]{\ref{#1}\colorbox{pink}{\scriptsize{#1}}\index[lemmas]{#1!use of}}

\newcommand{\daynote}[1]{\commentary{See day notes #1.}}

\newcommand{\newt}[1]{\colorbox{yellow}{#1}}
\newenvironment{newtt}
{  \colorbox{yellow}{$[$ ...} 
}
{  \colorbox{yellow}{... $]$}
}
\newcommand{\oldt}[1]{\colorbox{red}{\sout{#1}}}
\newenvironment{oldtt}
{  \colorbox{red}{$[$ ...} 
}
{  \colorbox{red}{... $]$}
}

\newcommand{\reinstatet}[1]{\colorbox{lime}{#1}}
\newenvironment{reinstatett}
{  \colorbox{lime}{$[$ ...}
}
{  \colorbox{lime}{... $]$}
}

\newcommand{\tbd}{\highlight{TBD}}

%ithprojection function
\newcommand{\proji}[1]{\pi_#1}


\newenvironment{aside}
{\begin{framed}
\textbf{Aside}
}
{
\end{framed}
}

\newenvironment{notebox}[1][Note]
{\begin{framed}
\textbf{#1}
}
{
\end{framed}
}

\newenvironment{categoricalaside}
{\begin{framed}
\textbf{Categorical Aside}
}
{
\end{framed}
}

\newenvironment{noteforfuture}
{\begin{framed}
\textbf{Note For Future}
}
{
\end{framed}
}

\newenvironment{problem}
{\begin{framed}
\textbf{Problem}
}
{
\end{framed}
}

\newenvironment{key}
{
\begin{tabular}{c l p{4cm}}
KEY && \\
\hline
}
{
\end{tabular}
}

\newcommand{\keyentry}[3]{#1 & #2 & #3 \\} 


%quine quote
\newcommand{\qq}[1]{
\left\ulcorner#1\right\urcorner
}

%single quote
\newcommand{\sq}[1]{
\textnormal{\textquotesingle}#1\textnormal{\textquotesingle}
}

%lower quine quote
\newcommand{\lqq}[1]{
\left\llcorner #1\right\lrcorner
}


%from berkley
\newcommand{\langl}{\begin{picture}(4.5,7)
\put(1.1,2.5){\rotatebox{60}{\line(1,0){5.5}}}
\put(1.1,2.5){\rotatebox{300}{\line(1,0){5.5}}}
\end{picture}}
\newcommand{\rangl}{\begin{picture}(4.5,7)
\put(.9,2.5){\rotatebox{120}{\line(1,0){5.5}}}
\put(.9,2.5){\rotatebox{240}{\line(1,0){5.5}}}
\end{picture}}
\newcommand{\lang}{\begin{picture}(5,7)\put(1.1,2.5){\rotatebox{45}{\line(1,0){6.0}}}\put(1.1,2.5){\rotatebox{315}{\line(1,0){6.0}}}\end{picture}}
\newcommand{\rang}{\begin{picture}(5,7)\put(.1,2.5){\rotatebox{135}{\line(1,0){6.0}}}\put(.1,2.5){\rotatebox{225}{\line(1,0){6.0}}}\end{picture}}
%Try sharper tuple brackets -- except gives errors nested in captions so comment out
%\renewcommand{\tuple}[1]{\lang #1 \rang}

\newcommand{\setsuchthat}[2]{\left\{#1 \ \middle|\ #2\right\}}
\newcommand{\set}[1]{\left\{#1\right\}} 

% one to n - wanton
\newcommand{\wanton}[1]{#1_1,...#1_n}
\newcommand{\n}{1...n}
\newcommand{\fn}{\wanton{f}}
\newcommand{\gn}{\wanton{g}}
\newcommand{\pn}{\wanton{p}}
\newcommand{\qn}{\wanton{q}}
\newcommand{\qnprime}{\wanton{q'}}
\newcommand{\tn}{\wanton{t}}
\newcommand{\xn}{\wanton{x}}
\newcommand{\xnp}{\wanton{x'}}
\newcommand{\yn}{\wanton{y}}
\newcommand{\An}{\wanton{A}}
\newcommand{\Bn}{\wanton{B}}
\newcommand{\Cn}{\wanton{C}}
\newcommand{\ntuple}[1]{\tuple{\wanton{#1}}}
\newcommand{\wantom}[2][]{#2_1,...#2_{m#1}}
\newcommand{\m}{1...m}
\newcommand{\mtuple}[1]{\tuple{#1_1,...#1_m}}
\newcommand{\gm}{\wantom{g}}
\newcommand{\qm}{\wantom{q}}
\newcommand{\sm}[1][]{\wantom[#1]{s}}
\newcommand{\smp}{\wantom{s'}}
\newcommand{\ym}{\wantom{y}}
\newcommand{\Bm}{\wantom{B}}
\newcommand {\bntuple}{\ensuremath{\ntuple{b}}}
\newcommand {\fntuple}{\ensuremath{\ntuple{f}}}
\newcommand {\fnptuple}{\ensuremath{\ntuple{f}}}
\newcommand {\pntuple}{\ensuremath{\ntuple{p}}}
\newcommand {\qntuple}{\ensuremath{\ntuple{q}}}
\newcommand {\qnptuple}{\ensuremath{\ntuple{q'}}}
\newcommand {\qmtuple}{\ensuremath{\mtuple{q}}}
\newcommand {\sntuple}{\ensuremath{\ntuple{s}}}
\newcommand {\xntuple}{\ensuremath{\ntuple{x}}}
\newcommand {\xnptuple}{\ensuremath{\ntuple{x'}}}
\newcommand {\ymtuple}{\ensuremath{\mtuple{y}}}
\newcommand{\idef}[1][n]{1 \leq i \leq #1}
\newcommand{\jdef}[1][m]{1 \leq j \leq #1}
\newcommand{\kdef}[1][l]{1 \leq k \leq #1}
\newcommand{\foreachi}[1][n]{for each $i$, $1 \leq i \leq #1$}
\newcommand{\foreachj}[1][m]{for each $j$, $1 \leq j \leq #1$}
\newcommand{\foreachk}[1][l]{for each $k$, $1 \leq k \leq #1$}
\newcommand{\Foreachi}[1][n]{For each $i$, $1 \leq i \leq #1$}
\newcommand{\Foreachj}[1][m]{For each $j$, $1 \leq j \leq #1$}
\newcommand{\Foreachk}[1][l]{For each $k$, $1 \leq k \leq #1$}
\newcommand{\forsomei}[1][n]{for some $i$, $1 \leq i \leq #1$}
\newcommand{\forsomej}[1][m]{for some $j$, $1 \leq j \leq #1$}
\newcommand{\forsomek}[1][l]{for some $k$, $1 \leq k \leq #1$}
\newcommand{\wherei}[1][n]{where $1 \leq i \leq #1$}
\newcommand{\wherej}[1][m]{where $1 \leq j \leq #1$}
\newcommand{\wherek}[1][l]{where $1 \leq k \leq #1$}


\newcommand{\fundep}[3]{#2 \xrightarrow{#1} #3}  %where does this belong? xxxx
% Following used for notes -- indented numbered paras

\newcounter{para}
\newlength{\oldparindent}
\setlength{\oldparindent}{\parindent} % Save \parindent before of change
\newcommand{\ind}{\hspace*{\oldparindent}}
\newcommand\note{
%\setlength{\parskip}{0.5\baselineskip} % Definition of `parskip`
\setlength{\parindent}{0pt}
\par\ind\refstepcounter{para}\thepara.\space
\setlength{\parindent}{\oldparindent}
}


