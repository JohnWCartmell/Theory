%
%  erdiagram.beamer.renewal.tex
%  ****************************
%
%  Renew macros defined in erdiagram so that 
%             core attributes
%             hierarchical attributes
%             relational attribuites 
%             annotations identifying relationships ali=ongside above attribute names
%  appear successively as the presentation advances. 
%
% Created 22 Sep 2022.
% core attributes catered for 11 Oct 2022
\newcommand{\coreAttributesSlideRange}{0}
\newcommand{\scopesSlideRange}{0}
\newcommand{\referenceImplementorAttributesSlideRange}{0}
\newcommand{\referenceImplementorAttributeswithRelIdAnnotationSlideRange}{0}
\newcommand{\dependencyImplementorAttributesSlideRange}{0}
\newcommand{\dependencyImplementorAttributeswithRelIdAnnotationSlideRange}{0}
\newcommand{\relIdSlideRange}{0}


% By default there is no animation
\newcommand{\erDisplayAllWithoutAnimation}
{
\renewcommand{\coreAttributesSlideRange}{1-}
\renewcommand{\scopesSlideRange}{1-}
\renewcommand{\referenceImplementorAttributesSlideRange}{0}
\renewcommand{\referenceImplementorAttributeswithRelIdAnnotationSlideRange}{1-}
\renewcommand{\dependencyImplementorAttributesSlideRange}{0}
\renewcommand{\dependencyImplementorAttributeswithRelIdAnnotationSlideRange}{1-}
\renewcommand{\relIdSlideRange}{1-}
}
\erDisplayAllWithoutAnimation %set the default

% Can reset to a five slide animation
% Slide 1 - shows logical model without scopes and without relationship ids
% Slide 2 - adds scopes -- these indicate equivalent paths i.e. commutative diagrams
% Slide 3 - reveals attributes required in a hierarchical implementation such as XML or Googles protocol buff IDL
% Silde 4 - reveals attributes required in a relational implementation
% slide 5 - annotates relationships with identifiers and tags attributes to
%            indicate the relationships which they are there to implement
\newcommand{\erDisplayFiveSlideAnimation}
{
\renewcommand{\coreAttributesSlideRange}{1-}
\renewcommand{\scopesSlideRange}{2}
\renewcommand{\referenceImplementorAttributesSlideRange}{3-4}
\renewcommand{\referenceImplementorAttributeswithRelIdAnnotationSlideRange}{5}
\renewcommand{\dependencyImplementorAttributesSlideRange}{4}
\renewcommand{\dependencyImplementorAttributeswithRelIdAnnotationSlideRange}{5}
\renewcommand{\relIdSlideRange}{5}
}

% Can reset to an early start five slide animation
% Slide 1 - shows model without attributes without scopes and without relationship ids
% Slide 2 - adds scopes -- these indicate equivalent paths i.e. commutative diagrams
% Slide 3 - adds core attributes
% Slide 4 - reveals attributes required in a hierarchical implementation such as XML or Googles protocol buff IDL
% Silde 5 - reveals attributes required in a relational implementation
\newcommand{\erDisplayEarlyStartFiveSlideAnimation}
{
\renewcommand{\coreAttributesSlideRange}{3-}
\renewcommand{\scopesSlideRange}{2-3}
\renewcommand{\referenceImplementorAttributesSlideRange}{4-}
\renewcommand{\referenceImplementorAttributeswithRelIdAnnotationSlideRange}{0}
\renewcommand{\dependencyImplementorAttributesSlideRange}{5-}
\renewcommand{\dependencyImplementorAttributeswithRelIdAnnotationSlideRange}{0}
\renewcommand{\relIdSlideRange}{0}
}

% Can reset to a two slide animation of the logical model
% Slide 1 - shows logical model without scopes and without relationship ids
% Slide 2 - adds scopes -- these indicate equivalent paths i.e. commutative diagrams
\newcommand{\erDisplayTwoSlideAnimation}
{
\renewcommand{\coreAttributesSlideRange}{1-}
\renewcommand{\scopesSlideRange}{2}
\renewcommand{\referenceImplementorAttributesSlideRange}{0}
\renewcommand{\referenceImplementorAttributeswithRelIdAnnotationSlideRange}{0}
\renewcommand{\dependencyImplementorAttributesSlideRange}{0}
\renewcommand{\dependencyImplementorAttributeswithRelIdAnnotationSlideRange}{0}
\renewcommand{\relIdSlideRange}{0}
}

% Can reset to a pure logical model 
% Slide 1 - shows logical model without scopes and without relationship ids
\newcommand{\erDisplayPureLogicalWithoutAnimation}
{

\renewcommand{\coreAttributesSlideRange}{1-}
\renewcommand{\scopesSlideRange}{0}
\renewcommand{\referenceImplementorAttributesSlideRange}{0}
\renewcommand{\referenceImplementorAttributeswithRelIdAnnotationSlideRange}{0}
\renewcommand{\dependencyImplementorAttributesSlideRange}{0}
\renewcommand{\dependencyImplementorAttributeswithRelIdAnnotationSlideRange}{0}
\renewcommand{\relIdSlideRange}{0}
}

% Can reset to a pure abstract model 
% Slide 1 - shows logical model without attributes without scopes and without relationship ids
\newcommand{\erDisplayPureLogicalWithoutAttributesWithoutAnimation}
{
\renewcommand{\coreAttributesSlideRange}{0}
\renewcommand{\scopesSlideRange}{0}
\renewcommand{\referenceImplementorAttributesSlideRange}{0}
\renewcommand{\referenceImplementorAttributeswithRelIdAnnotationSlideRange}{0}
\renewcommand{\dependencyImplementorAttributesSlideRange}{0}
\renewcommand{\dependencyImplementorAttributeswithRelIdAnnotationSlideRange}{0}
\renewcommand{\relIdSlideRange}{0}
}


\renewcommand{\erCoreAttribute}[5]{
\only<\coreAttributesSlideRange>
{
\erattr{#1}{#2}{#3}{#4}{#5}
}
}

%\erHierarchicalAttribute {#1 x} {#2 y} {#3 ismandatory}{#4 identifying} {#5 name} {#6 annotation}
% Attributes required in a hierarchical implementation
% These are reference implementor attributes
\renewcommand {\erHierarchicalAttribute}[6] 
{
\only<\referenceImplementorAttributesSlideRange>
          {\erRelorHierAttribute{#1}{#2}{#3}{#4}{#5}{}}
\only<\referenceImplementorAttributeswithRelIdAnnotationSlideRange>
          {\erRelorHierAttribute{#1}{#2}{#3}{#4}{#5}{#6}}
}

%\erRelationalAttribute {#1 x} {#2 y} {#3 ismandatory}{#4 identifying} {#5 name} {#6 annotation}
% Additional attributes required in a relational implementation
% These are depdendency implementor attributes
\renewcommand {\erRelationalAttribute}[6]   %These are dependency implementor attributes
{
\only<\dependencyImplementorAttributesSlideRange>
        {\erRelorHierAttribute{#1}{#2}{#3}{#4}{#5}{}}
\only<\dependencyImplementorAttributeswithRelIdAnnotationSlideRange>
        {\erRelorHierAttribute{#1}{#2}{#3}{#4}{#5}{#6}}
}

% \errelid {#1 x} {#2 y} {#3 text anchor} {#4 text} 
\renewcommand {\errelid}[4]
{
\only<\relIdSlideRange>{\errelidbody{#1}{#2}{#3}{#4}}    
}

% \erscope {#1 x} {#2 y} {#3 text anchor} {#4 text}  15 March 2019
\renewcommand {\erscope}[4]
{
  \only<\scopesSlideRange>{\erscopebody{#1}{#2}{#3}{#4}}
}
