
\label{contextualnotationpartone}
\subsection{The $s$ operator and the tuple operator}
Terminology: By  the generic term \term{tree} is meant a partially ordered set (poset) $(T, <)$ such that for each $t \in T$, the set $\set{s \in T : s < t}$ is well-ordered by the relation $<$.
In this discussion we restrict ourselves to rooted $\omega$-trees i.e. trees for which the set $\set{s \in T : s < t}$
is finite for all $t \in T$ and for which there is a least element in the partial ordering. 

With respect to a partial ordering $<$, we say that an element $y$ \textit{covers}  an element $x$  iff $x<y$ and there does not exist $w$ such that $x < w$ and $w < y$.
If object $y$ covers object $x$ in the partial ordering 
then we write $x \base y$ (we use this in preference to the more usual $x \lessdot y$).

We define the \term{rank} (sometimes this is called the grade) of an element $t \in T$ to be the cardinality
of the set $\setsuchthat{s \in T}{s < t}$. If we define the set $T_i$ to be the set of elements of a tree
of rank $i$ then we have that $T= \bigcup_{i \in N}T_i$. 

\begin{oldtt} \commentary{Does this contribute anything?}
In the  definition of contextual categories (\cite{Cartmell78,Cartmell86}) there is defined to be such a tree-structure on the objects of the category. In a contextual category the root of the tree of objects is also  a terminal object
of the category and is denoted $1$. For $x$ an object of the category we will write  $Cover(x)$ to refer to the set of objects covering $x$.
\end{oldtt}

By a \term{tree-structured category} we mean (i) a category with a tree-structure defined on its objects such that the tree of objects has a unique root object 
\newt{that is also a terminal object of the category} and (ii) for every $x \base y$ in the tree of objects  a canonical morphism $p_y:y \rightarrow x$. 
I shall say morphisms of this form  are \term{direct dependency morphisms} and they will
be distinguished in diagrams by an arrow with  a triangular head so:
\begin{center}
$
\begin{array}{p{2cm}}
\Rnode{y}{y}\\ [1.4cm]
\Rnode{x}{x} \\
\mbox{\ncbsar{p_y}{y}{x}}
\end{array}
$
\end{center}

If $x$ is an object of a tree-structured category \catcw and if $y \in Cover(x)$ in \catcw then we define 
the set  of sections of $y$, denoted $Sect(y)$, to be the set of morphisms $s: x \morph y$ in \catcw  such that $s \circ p_y = id_x$. We have therefore that if $s$ is a section of $y$ and $y$ covers $x$ then
\ \ \ \ 
\begin{tabular}{cccc}
$
\begin{array}{p{0.5cm}}
\Rnode{y}{y} \\ [1.4cm]
\Rnode{x}{x} \\
\mbox{
\ncsar{y}{x}
\alabel{p_y}
\ncarrZZ[30]{x}{y} 
\alabel{s}}
\end{array}
$  & in \catcw and &
$
\begin{array}{c p{0.5cm}c p{0.5cm}c}
              && \Rnode{y}{y}&&                \\ [1.4cm]
\Rnode{x1}{x} &&             &&   \Rnode{x2}{x}\\
\mbox{
\ncsar{y}{x2}
\alabel{p_y}
\ncarr{x1}{y} 
\alabel{s}
\ncarr{x1}{x2} 
\blabel{id_x}
}
\end{array}
$& commutes.
\end{tabular}

In the  definition of contextual category given  in [1] and [2], a contextual category is defined to be a tree-structured category 
\cat{C} with the following additional structure:

\noindent 
(i) whenever
$
\begin{array}{cp{.9cm}c}
            & & \Rnode{z}{z} \\ [1.2cm]
\Rnode{x}{x}& & \Rnode{y}{y} \\ [0.5cm]
\end{array}
$
\jcbarr{f}{x}{y}
\ncasar{p_z}{z}{y}
in \cat{C}, an object $f \sub z$ such that $x \base f \sub z$, a morphism $q(f,z): f \sub z \rightarrow z$ such that

\begin{axiom}{q1}
q(f,z) \circ p_z = p_{f \sub z} \circ f
\end{axiom}

\noindent i.e. such that the diagram: \ \ \ 
$
\ccsquareoutline{0.9cm}{1.2cm}{f^*z}{z}{x}{y}
\ccsquareacross{q(f,z)}{f}
\ccsquaredown{p_{f \sub z}}{p_z}
$
commutes and, (ii), is a pullback diagram, that is: \\
\hspace{0.2cm}

\noindent for all objects $w$ of \cat{C}, and for all
morphisms $h_1: w \rightarrow x$ and $h_2: w \rightarrow z$ such that
$h_1 \circ f = h_2 \circ p_z$ 
there exists a unique $h:w \rightarrow f \sub z$ in \cat{C} such that
$h \circ p_{f \sub z} = h_1$ and $h \circ q(f,z) = h_2$, as shown here:

\vspace{3mm}
\begin{center}
\begin{equation}
\label{pullback}
\begin{array}{cp{0.5cm}cp{1.2cm}c}
\Rnode{w}{w} &&                     &&           \\ [0.7cm]
             &&\Rnode{fstarz}{f^*z} && \Rnode{z}{z}\\ [1.2cm]
             &&\Rnode{x}{x}         && \Rnode{y}{y}
\end{array}
\end{equation}
\ncbsar{p_{f \sub z}}{fstarz}{x}
\jcbarr{f}{x}{y}
\ncaarr{q(f,z)}{fstarz}{z}
\ncasar{p_z}{z}{y}
\setlength{\arrnodesepA}{3pt}
\jcbarr[-35]{h_1}{w}{x}
\ncaarr[35]{h_2}{w}{z}
\psset{linestyle=dashed}
\ncaarr{h}{w}{fstarz}
\end{center}

\vspace {0.25cm}
\noindent and so that (iii) whenever $x \base y$ in \cat{C}, 
\begin{axiom}{q2}
id_x^*y=y
\end{axiom}

and

\begin{axiom}{q3}
q(id_x,y) = id_y
\end{axiom}

\noindent and (iv) whenever 
$
\begin{array}{c p{.9cm} c p{.9cm} c}
             &   &             &   & \Rnode{z}{z} \\ [1.2cm]
\Rnode{w}{w} &   &\Rnode{x}{x} &   & \Rnode{y}{y} \\ [0.5cm]
\end{array}
$
\jcbarr{f}{w}{x}
\jcbarr{g}{x}{y}
\ncasar{c}{z}{y}
in \cat{C}, 

then

\begin{axiom}{q4}
(f \circ g)^*z =  f^* (g ^* z)
\end{axiom}

and 
\begin{axiom}{q5}
q(f \circ g,z) = q(f,g^*z) \circ q(g,z)
\end{axiom}


Following Voevodsky we may replace the pullback condition (condition (ii) above) by introducing and axiomatising an 
`s' operator  as follows:

\noindent (ii') for all morphisms $f: x \rightarrow y$, a morphism $s(f) : x \rightarrow f \sub p_y \sub y$ such that both:

\begin{axiom}{s1}
s(f) \circ p_{f\sub p_y \sub y}=id_x
\end{axiom}

\noindent and

\begin{axiom}{s2}
s(f) \circ q( f \circ p_y     ,y)=f
\end{axiom}	

\noindent i.e. such that the following diagrams commute:
\begin{center}
\begin{displaymath}
\begin{array}{cccp{1.cm} cp{.9cm}c}
&\Rnode{fXyyM}{f\sub p_y \sub y}&  & &  \Rnode{fXyy}{f\sub p_y \sub y} & & \Rnode{yXy}{p_y \sub y}\\ [1.2cm]
\Rnode{xL}{x} & &\Rnode{xR}{x} & &\Rnode{x}{x}         & & \Rnode{y}{y}
\end{array}
\end{displaymath}
\ncasar{p_{f\sub p_y \sub y}}{fXyy}{x}
\jcbarr{f}{x}{y}
\ncaarr{q(f,p_y \sub y)}{fXyy}{yXy}
\ncasar{p_{p_y \sub y}}{yXy}{y}
\ncaarr{s(f)}{xL}{fXyyM}
\ncasar{p_{f\sub p_y \sub y}}{fXyyM}{xR}
\jcbarr{id_x}{xL}{xR}
\end{center}

\noindent
and such that whenever
\begin{center}
\begin{displaymath}
\begin{array}{c p{.9cm} c p{.9cm} c}
\Rnode{w}{w}&& \Rnode{g*z}{g \sub z} && \Rnode{z}{z} \\ [1.2cm]
            && \Rnode{x}{x}  && \Rnode{y}{y} \\ [0.2cm]
\end{array}
\end{displaymath}
\jcbarr{f}{w}{g*z}
\jcbarr{g}{x}{y}
\ncaarr{q(g,z)}{g*z}{z}
\ncasar{}{g*z}{x}
\ncasar{}{z}{y}
\end{center}

\noindent in \cat{C} then

\begin{axiom}{s3}
s(f \circ q(g,z))=s(f)
\end{axiom}


\begin{lemma}
\llabel{footandstactic}
If $f: A \morph B$ and $f':A \morph B$ in a contextual category \catcw then if 
$f \circ p_B$ = $f' \circ p_B$ and $s(f) = s(f')$ then $f=f'$.
\end{lemma}
\begin{proof}
Follows by axiom (s2) since we have:
$f = s(f) \circ q(f \circ p_B,B)  = s(f') \circ q(f' \circ p_B,B) = f'$.
\end{proof}

From which follows:
\begin{lemma}
\llabel{stactic}
If $A$ is any object of a contextual category \catcw and if $B$ is an object such that $1 \base B$ in \catcw then
if $f: A \morph B$ and $f':A \morph B$ in  \catcw then $f=f'$ iff $s(f) = s(f')$.
\end{lemma}

\subsection{Extended $p$ and $^*$ notation}
We can introduce several additional notations for use in in contextual categories. 
If $x < y$ in the contextual category \catc, then define the morphism $p_{y,x}:y \morph  x$ in \catc, \\

\begin{tabular}{c c c  c  c  c c}
by defining
& %2 c
$
\begin{array} {c}
\Rnode{midy}{y} \\[2.0cm]
\Rnode{midx}{x}  \\ 
\end{array}
\mbox{\ncarr{midy}{midx}
      \blabel{p_{y,x}}[0.2]
		 }
$
& %3 c
(drawn also  as
& %4 c
$
\begin{array} {c}
\Rnode{lhsy}{y} \\[2.0cm]
\Rnode{lhsx}{x} 
\end{array})
\makebox[0.1cm]{\nccdar{lhsy}{lhsx}
      \blabel{p_{y,x}}[0.275]
		}
$
& %5
as the composition 
& %6 c
$
\begin{array}{c}
%\Rnode{b}{B}&&\Rnode{xn}{w_n}&&\Rnode{xn1}{w_{n-1}}&&\Rnode{dots}{\ ...\ }&&\Rnode{x1}{w_1}&&\Rnode{a}{A} 
\Rnode{b}{y}\\[0.7cm]
\Rnode{xn}{w_n}\\[0.7cm]
\Rnode{xn1}{w_{n-1}}\\[0.1cm]
\Rnode{dots}{\vdots}\\[0.1cm]
\Rnode{x1}{w_1}\\[0.7cm]
\Rnode{a}{x} 
\end{array}
,
\makebox[0.1cm]{
\ncsar{b}{xn}
\alabel{p_y}
\ncsar{xn}{xn1}
\alabel{p_{w_n}}
\ncsar{xn1}{e1}
\ncline[linestyle=dotted,dotsep=4pt]{e1}{e2}
\ncsar{e2}{x1}
\ncsar{x1}{a}
\alabel{p_{w_1}}}
$ 
& %7 c
\end{tabular}

\noindent where $w_1, ... w_n$ is the unique sequence of objects of $C$ such that 
$x \base w_1 \base ... \base w_n \base y$. It is also useful to have a definition of $p_{x,x}$ as the identity morphism
$id_x$, for any object $x$, so that $p_{y,x}$ is defined for any pair of objects $x$ and $y$ such that $x \leq y$.
We say that any morphism  of the form $p_{y,x}$ is a dependency morphism. 

The contextual category structure supplies us with pullbacks for direct dependency morpisms.
These can be pieced together to obtain  a pullback for any indirect dependency morphism   along any morphism with common codomain
as  whenever $y \leq z$ in $C$ and whenever $f:x \morph y$ in $C$, then we have
the following canonical pullback for the morphism $p_{z, y}$ along $f$, where
$w_1, ... w_n$ is the unique sequence of objects of $C$ such that 
$y \base w_1 \base ... \base w_n \base z$:

\vspace{3mm}
\begin{center}
\begin{equation}
\label{compositepullbackdefinition}
\begin{array}{cp{2.9cm}c}
\Rnode{TOPL}{q(...q(f, w_1)...w_n)^* z} & & \Rnode{TOPR}{z}\\ [1.2cm]
\Rnode{zOTTOML}{x}         & & \Rnode{zOTTOMR}{y}
\end{array}
\end{equation}
\jcbarr{f}{zOTTOML}{zOTTOMR}
\ncaarr{q(q(...q(f,w_1)...w_n),z)}{TOPL}{TOPR}
\nccdar{TOPL}{zOTTOML}
\blabel{p_{q(...q(f, w_1)...w_n)^* z,x}}
\nccdar{TOPR}{zOTTOMR}
\alabel{p_{z,y}}
\end{center}

Since these constructed pullbacks form an important part of contextual
category structure we would like a simpler notation for them. As no confusion is
likely, we extend the $^*$ and $q$ notation to cover these new pullback diagrams.
From now on if $f:x \morph y$ in $C$ and $y \leq z$ in $C$, then $f^*z$ 
is defined to be $q(...q(f, w_1)...w_n)^* z$ as shown in diagram (\ref{compositepullbackdefinition}) 
and $q(f,z)$ is defined as the secondary projection shown in (\ref{compositepullbackdefinition}), i.e. as 
$q(q(...q(f,w_1)...w_n),z)$,
so that (\ref{compositepullbackdefinition}) can be rewritten as:

\vspace{3mm}
\begin{center}
\begin{equation}
\label{compositepullbackout}
\begin{array}{cp{.9cm}c}
\Rnode{fstarz}{f^*z} & & \Rnode{z}{z}\\ [1.2cm]
\Rnode{x}{x}         & & \Rnode{y}{y}
\end{array}
\end{equation}
\nccdar{fstarz}{x}
\blabel{p_{f \sub z},x}
\jcbarr{f}{x}{y}
\ncaarr{q(f,z)}{fstarz}{z}
\nccdar{z}{y}
\alabel{p_{z,y}}
\end{center}
\newcommand{\pbpair}[2]{\tuple{#2}_{#1}}
With respect to any pullback diagram (\ref{compositepullbackout})
 we use the notation $\pbpair{x,y,f,z}{h_1,h_2}$  for the unique morphism   
$h:w \rightarrow f \sub z$ in \cat{C} such that
$h \circ p_{f \sub z,x} = h_1$ and $h \circ q(f,z) = h_2$.\\
\begin{oldtt}
$\tuple{h_1,h_2}_{x,y,f,z}$ may be be safely elided to $\tuple{h_1,h_2}_{f,z}$ and, rather less safely, to $\tuple{h_1,h_2}$.
In  elided form
\end{oldtt}
We  have that $\pbpair{x,y,f,z}{h_1,h_2}$ is defined iff $h_1 \circ f=h_2\circ p_{z,y}$
and when it is defined we have
\begin{equation}
\pbpair{x,y,f,z}{h_1,h_2} \circ p_{f^*z,x} = h_1
\end{equation}
and
\begin{equation}
\pbpair{x,y,f,z}{h_1,h_2} \circ q(f,z) = h_2
\end{equation}

The following observation
follows from the way the extended pullback diagrams are constructed. 
\begin{lemma}
\llabel{extendedstarcoheres}
In the extended notation, if $f: x \morph y$ 
and $y \leq z \leq zz$ in the contextual category C, then
\begin{equation}
f^*zz = q(f, z)^*zz
\end{equation}
 and 
\begin{equation}
q(f, zz) = q(q(f, z), zz)
\end{equation}
and so the outer diagram in
\renewcommand{\pc}[2]{p_{#1,#2}}  % as \pc defined in ccategories macros differently to this
$
\begin{array}{ccp{.9cm}c}
\\[0.25cm]
&\Rnode{TL}{q(f,z)^*zz} & & \Rnode{TR}{zz}\\ [1.2cm]
&\Rnode{ML}{f^*z} & & \Rnode{MR}{z}\\ [1.2cm]
&\Rnode{BL}{x}         & & \Rnode{BR}{y} \\[1.0cm]
\end{array}
$
%composition
%\setlength{\fboxrule}{1pt} 
\makebox[0.2cm]{   % This make box prevents white space pushing out to the right
                   % cannot see where this white space is comin from. To investigate
									 % change the \makebox[0.2cm] to \fbox and you will see the problem.
\nccdar{TL}{ML}\blabel{p_{q(f,z)^*zz,f^*z}}\nccdar{ML}{BL}\blabel{p_{f \sub z,x}}\nccdar{TR}{MR}\alabel{p_{zz,z}}
\nccdar{MR}{BR}
\alabel{p_{z,y}}
%reference
\ncarr{TL}{TR}
\alabel{q(q(f,z),zz)}
\ncarr{ML}{MR}
\alabel{q(f,z)}
\ncarr{BL}{BR}
\blabel{f}
}
is diagram (\ref{compositepullbackout}). 
\end{lemma}

Now we extend the $^*$ notation further so that if $x,y,z_1$ and $z_2$ are objects of a contextual catgeory \catcw such that
$y < z_1$ and $y < z_2$, and if  $f:x\morph y$ and if $g: z_1 \morph z_2$ such that $g \circ p_{z_2,y} = p_{z_1,y}$ 
as the unique morphism $h:f^*z_1 \morph f^*z_2$ such that
$h \circ p_{f^*z_2,x} = p_{f^*z_1,x}$ and $h \circ q(f,z_2) = q(f,z_1)\circ g$
that is to say that we define $f^*g=\pbpair{x,y,f,z_2}{p_{f^*z_1,x},q(f,z_1)\circ g} $
so that we have the following diagram in \catc
$$
\begin{array}{cccp{.9cm}ccc}
                   &               &\Rnode{TL}{f^*z_2} & &                &                & \ \ \Rnode{TR}{z_2}\ \\ [0.5cm]
\Rnode{ML}{f^*z_1} &               &                   & &\ \ \Rnode{MR}{z_1}\ \ &                &               \\ [1.2cm]
                   & \Rnode{BL}{x} &                   & &                & \Rnode{BR}{y}  &
\end{array}
$$
\makebox[0.2cm]{   % This make box prevents white space pushing out to the right
                   % cannot see where this white space is comin from. To investigate
                                                       % change the \makebox[0.2cm] to \fbox and you will see the problem.
\nccdar{TL}{BL}
\nccdar{ML}{BL}
\nccdar{TR}{BR}
\nccdar{MR}{BR}
\ncarr{TL}{TR}\alabel{q(f,z_2)}
\ncarr{ML}{MR}\alabel{q(f,z_1)}[0.6]
\ncarr{BL}{BR}\blabel{f}
\ncarr{ML}{TL}\alabel{f^*g}
\ncarr{MR}{TR}\alabel{g}[0.3]
}
\begin{lemma} 
\llabel{stardistributesonobjects}
For all objects $x_p \base x \leq y_p \base y \leq z_p \base z$ in \catc, for all sections $f: x_p \morph x$ and $g: y \morph y_p$, 
\begin{equation}
\label{metagattriplestar}
(f^*g)^*(f^*z)=f^*(g^*z)
\end{equation}
and for all sections $h:z_p \morph z$
\begin{equation}
\label{metagattriplestarsection}
(f^*g)^*(f^*h)=f^*(g^*h)
\end{equation}
\end{lemma}
\begin{proof}
First see that for any $z$ we can prove $(f^*g)^*(f^*z)=f^*(g^*z)$ as follows
\begin{align*}
(f^*g)^*(f^*z)&= (f^*g)^*(q(f,y_2)^*z)  && \mbox{ by lemma \lref{extendedstarcoheres}} \\
              &= ((f^*g) \circ q(f,y_2))^*z && \mbox{ by (q4)} \\
              &= (q(f,y_1)\circ g)^*z&& \mbox{ by definition of $f^*g$} \\
              &= q(f,y_1)^*g^*z&& \mbox{ by (q4)} \\
              &= f^*(g^*z) &&\mbox{ by lemma \lref{extendedstarcoheres}}      
\end{align*}
\end{proof}

\begin{lemma} \commentary{the general case can be specialised to sections and to weakenings - these separately stated }
\llabel{stardistributesonmorophismslemma}
If $f$, $g$ and $h$ are morphisms of a contextual category \catcw such that $f^*g$ and $g^*h$ are both defined then
\begin{equation}
\label{stardistributesonmorophisms}
(f^*g)^*(f^*h)=f^*(g^*h)
\end{equation}
\end{lemma}
\begin{proof}
\newcommand{\lhsdom}{(f^*g)^*(f^*z_1)}
\newcommand{\lhscod}{(f^*g)^*(f^*z_2)}
\newcommand{\lhs}{(f^*g)^*(f^*h)}
\newcommand{\fghdom}{f^*(g^*z_1)}
\newcommand{\fghcod}{f^*(g^*z_2)}
\newcommand{\fgh}{f^*(g^*h)}
\newcommand{\fhdom}{f^*z_1}
\newcommand{\fhcod}{f^*z_2}
\newcommand{\fh}{f^*h}
\newcommand{\ghdom}{g^*z_1}
\newcommand{\ghcod}{g^*z_2}
\newcommand{\gh}{g^*h}
\newcommand{\fgdom}{f^*y_1}
\newcommand{\fgcod}{f^*y_2}
\newcommand{\fg}{f^*g}
\newcommand{\fdom}{x_1}
\newcommand{\fcod}{x_2}
\newcommand{\f}{f}
\newcommand{\gdom}{y_1}
\newcommand{\gcod}{y_2}
\newcommand{\g}{g}
\newcommand{\hdom}{z_1}
\newcommand{\hcod}{z_2}
\newcommand{\h}{h}
Suppose $f: x_1 \morph x_2$, $g:y_1 \morph y_2$ and $h:z_1 \morph z_2$ in \catc. 
Because $f^*g$ is defined then we must have $x_2 < y_1$ and  $x_2 < y_2$ and $g \circ p_{y_2,x_2} = p_{y_1,x_2}$ in \catc. 
Likewise, because $g^*h$ is defined then we must have $y_2 < z_1$ and  $y_2 < z_2$ and $h \circ p_{z_2,y_2} = p_{z_1,y_2}$.
By lemma \lref{stardistributesonobjects} $\lhsdom=\fghdom$ and $\lhscod=\fghcod$
therefore we have the following diagram in \catc:
\iffalse   %MIGHT NEED THIS HAND ROLL EQUALITY
\newcommand{\equality}[2]
{
\ncline [doubleline=true, nodesep=0.2cm]{#1}{#2}
}
\fi
$$
\begin{array}{cccccccp{.05cm}ccccccc}
\\
\Rnode{fghdom}{\fghdom} &\Rnode{rhsarc}{} & \Rnode{fghcod}{\fghcod}\\[0.75cm]
\Rnode{lhsdom}{\lhsdom} &\Rnode{lhsarc}{} & \Rnode{lhscod}{\lhscod}\kern-0.75cm & & \Rnode{fhdom}{\fhdom} & & \Rnode{fhcod}{\fhcod}&&
               \Rnode{ghdom}{\ghdom} & & \Rnode{ghcod}{\ghcod} & & \Rnode{hdom}{\fhdom} & & \Rnode{hcod}{\fhcod}\\ [1.25cm]
& \Rnode{fgdom}{\fgdom} & & & & \Rnode{fgcod}{\fgcod} &&&& \Rnode{gdom}{\gdom} & & & & \Rnode{gcod}{\gcod}\\[1.25cm]
&                       & &\Rnode{fdom}{\fdom} & & & && & & &  \Rnode{fcod}{\fcod}
\end{array}
\mbox{
%\ncline [doubleline=true, nodesepA=0.2cm, nodesepB=0.6cm]{rhsarc}{lhsarc}
\equality{lhsdom}{fghdom}
\ncline [doubleline=true, nodesep=0.2cm, offsetB=-0.15cm]{lhscod}{fghcod}
\nccdar{lhsdom}{fgdom}
\nccdar{lhscod}{fgdom}
\nccdar{fhdom}{fgcod}
\nccdar{fhcod}{fgcod}
\nccdar{fgdom}{fdom}
\nccdar{fgcod}{fdom}
\nccdar{ghdom}{gdom}
\nccdar{ghcod}{gdom}
\nccdar{hdom}{gcod}
\nccdar{hcod}{gcod}
\nccdar{gdom}{fcod}
\nccdar{gcod}{fcod}
%
\ncarr{lhsdom}{lhscod}
\alabel{\lhs}
\ncarr{fghdom}{fghcod}
\alabel{\fgh}
\ncarr{fhdom}{fhcod}
\alabel{\fh}
\ncarr{fgdom}{fgcod}
\alabel{\fg}
\ncarr{ghdom}{ghcod}
\alabel{\gh}
\ncarr{fdom}{fcod}
\alabel{\f}
\ncarr{gdom}{gcod}
\alabel{\g}
\ncarr{hdom}{hcod}
\alabel{\h} 
}
$$
and we need to prove that $\lhs=\fgh$. We will prove this using the fact that $\fgh$ is the unqiue morphism such that
\newcommand{\pfgh}{p_{\fghcod,f^*y_1}}
\newcommand{\fghone}{p_{\fghdom,f^*y_1}}
\newcommand{\qfgh}{q(f,\ghcod)}
\newcommand{\fghtwo}{q(f,\ghdom) \circ (\gh)}
\begin{equation}
\fgh \circ \pfgh = \fghone
\end{equation}
and
\begin{equation}
\fgh \circ \qfgh = \fghtwo
\end{equation}
and therefore it suffices to show that
\begin{equation}
\label{fghpropertyone}
\lhs \circ \pfgh = \fghone
\end{equation}
and
\begin{equation}
\label{fghpropertytwo}
\lhs \circ \qfgh = \fghtwo
\end{equation}

(\ref{fghpropertyone}) follows because by definition of $\lhs$,
\begin{equation*}
\lhs \circ p_{\lhscod,f^*y_1} = \fghone
\end{equation*}
and because by lemma \lref{stardistributesonobjects} $\lhscod=\fghcod$.

Since 
\begin{center}
\begin{equation}
\label{compositepullbackout}
\begin{array}{cp{.9cm}c}
\Rnode{TL}{g^*z_2} & & \Rnode{TR}{z_2}\\ [1.2cm]
\Rnode{BL}{\gdom}         & & 
\end{array}
\end{equation}
\nccdar{TL}{BL}
\blabel{p_{g^*z_2,\gdom}}
\ncaarr{q(g,z_2)}{TL}{TR}
\end{center}
is a limit cone, to show (\ref{fghpropertytwo}) it suffices to show that  
\begin{equation}
\label{fghpropertytwosubgoalone}
\lhs \circ \qfgh \circ p_{g^*z_2,\gdom} = \fghtwo \circ p_{g^*z_2,\gdom}
\end{equation}
and
\begin{equation}
\label{fghpropertytwosubgoaltwo}
\lhs \circ \qfgh \circ q(g,z_2) = \fghtwo \circ q(g,z_2)
\end{equation}
(\ref{fghpropertytwosubgoalone}) is shown as follows:
\begin{align*}
\lhs \circ \qfgh \circ p_{g^*z_2,\gdom} 
 &= \lhs \circ q(q(f,y_1),g^*z_2) \circ p_{g^*z_2,\gdom} &&\mbox{1. by definition of extended $^*$,} \\
 &= \lhs \circ p_{\fghcod,f^*y_1} \circ q(f,y_1)&&\mbox{2. by (q1),} \\
 &= p_{\fghdom,f^*y_1} \circ q(f,y_1)&&\mbox{3. by definition of $\lhs$,} \\
 &= q(f,g^*z_1) \circ p_{g^*z_1,y_1}&&\mbox{4. by (q1),} \\
 &= \fghtwo \circ p_{g^*z_2,\gdom}&&\mbox{5. by definition of $\gh$, as required} \\
\end{align*}
and (\ref{fghpropertytwosubgoaltwo}) as follows:
\begin{align*}
lhs \circ \qfgh \circ q(g,z_2) &= \lhs \circ q(q(f,y_1),g^*z_2)\circ q(g,z_2) && \mbox{by lemma \lref{extendedstarcoheres},} \\
    &= \lhs \circ q(q(f,y_1) \circ g, z_2) && \mbox{by (q5),} \\
    &= \lhs \circ q(\fg \circ q(f,y_2), z_2) && \mbox{by definition of $f^*g$,} \\
    &= \lhs \circ q(\fg, q(f,y_2)^*z_2) \circ q(q(f,y_2),z_2) && \mbox{by (q5),} \\
		&= \lhs \circ q(\fg, f^*z_2) \circ q(f,z_2) && \mbox{by lemma \lref{extendedstarcoheres},} \\
    &= q(\fg, f^*z_1) \circ \fh \circ q(f,z_2) && \mbox{by definition of $\lhs$,} \\
    &= q(\fg, f^*z_1) \circ q(f,z_1) \circ h && \mbox{by definition of $\fh$,} \\
    &= q(\fg, f^*z_1) \circ q(q(f,y_2),z_1) \circ h && \mbox{by lemma \lref{extendedstarcoheres},} \\
    &= q(\fg \circ q(f,y_2),z_1) \circ h && \mbox{by (q5),} \\
    &= q(q(f,y_1) \circ g,z_1) \circ h && \mbox{by definition of $\fg$,}\\
    &= q(q(f,y_1), g^*z_1) \circ q(g,z_1) \circ h && \mbox{by (q5),} \\
    &= q(f, g^*z_1) \circ q(g,z_1) \circ h && \mbox{by lemma \lref{extendedstarcoheres}, } \\
    &= \fghtwo \circ q(g,z_2) && \mbox{by definition of $\gh$, as required.} 
\end{align*}
\end{proof}

A special case of this lemma is as follows:
\begin{lemma} \commentary{simple corollary}
\llabel{stardistributesonsections}\commentary{I cant find where this is used -- it should be though}
For all objects $x_p \base x \leq y_p \base y \leq z_p \base z$ in \catc, for all sections $f: x_p \morph x$ and $g: y \morph y_p$, 
\begin{equation}
\label{metagattriplestar}
(f^*g)^*(f^*z)=f^*(g^*z)
\end{equation}
and for all sections $h:z_p \morph z$
\begin{equation}
\label{metagattriplestarsection}
(f^*g)^*(f^*h)=f^*(g^*h)
\end{equation}
\end{lemma}



% *************************************************************************************
% sfglemma ****************************************************************************
\begin{lemma}
\llabel{sfglemma}
If $f:A \morph B$ and $g:B\morph C$ in a contextual category \catcw and if $C \in Cover(B)$ then \commentary{is $ft$ defined anywhere?}
\begin{equation}
\label{sgflemmagoalone}
ft(f\circ g)^*C = f^*(ft(g)^*C)
\end{equation}
and 
\begin{equation}
\label{sgflemmagoaltwo}
s(f\circ g)=f^*s(g)
\end{equation}
where $ft(g) = g \circ p_B$ and  $ft(f \circ g) = f \circ g \circ p_B$ so that we have
\begin{displaymath}
\begin{array}{ccp{1.7cm}cp{1.7cm}c}
ft(f\circ g)^*C=\kern-10pt&\Rnode{TL}{f^*(ft(g)^*C)} & & \Rnode{TC}{ft(g)^*C}          \\ [1.7cm]
&\Rnode{BL}{A}         & & \Rnode{BC}{B} && \Rnode{BR}{C}
\end{array}
\mbox{
\ncsar{TL}{BL}
\ncsar{TC}{BC}
\ncarr{BL}{BC}
\blabel{f}
\ncarr{BC}{BR}
\blabel{g}
\ncarr{TL}{TC}
\alabel{q(f,ft(g)^*C)}
\ncarr{TC}{BR}
\alabel{q(ft(g),C)}
\ncleftsimplesection{BL}{TL}
\alabel{s(f\circ g)=f^*s(g)}
\ncleftsimplesection{BC}{TC}
\alabel{s(g)}
}
\end{displaymath}
in \catc.
\end{lemma}
\begin{proof}
That (\ref{sgflemmagoalone}) holds follows by axiom (q4).

To show that (\ref{sgflemmagoaltwo}) holds remember that $s(f \circ g)$is the unique\commentary{have I proved this?} section of $ft(f \circ g)^*C$
such that $s(f \circ g) \circ q(f \circ g \circ p_C,C) = f\circ g$. Therefore it suffices to show that
$f^*s(g) \circ q(f \circ g \circ p_C,C) = f\circ g$ and this we can show as follows:
\begin{align*}
(f^*s(g)) \circ q(f \circ g \circ p_C,C) &= (f^*s(g)) \circ q(f ,(g \circ p_C)^*C) \circ q(g \circ p_C ,C) &&\mbox{by axiom (q5)} \\
                             &= f \circ s(g) \circ q(g \circ p_C ,C)                   &&\mbox {from defn. of $f^*s(g)\highlight{EXPAND}$}\\
                                                                                     &= f \circ g                                              &&\mbox {by axiom (s2)}
\end{align*}
\end{proof}


\subsection{The $\crossx{}{}{}$ notation}

We shall write $\crossx{y}{z}{x}$ in place of ${p_{y,x}}^*z$, for $x < y$, $x < z$  in \catc. 
Note that
$\crossx{y}{z}{x}$  represents what in the generalised algebraic syntax  is the `weakening' of a rule of the form
\begin{displaymath}
x,\, w_1,...w_n \tstyle \isT{z}
\end{displaymath}
from a rule with context $x, w_1,...w_n$ to a rule with broader context $y, w_1, ... w_n$: 
\begin{displaymath} 
y,\, w_1,...w_n \tstyle \isT{z}.
\end{displaymath}

\noindent Within the contextual category we can think of $\crossx{y}{z}{x}$  as a local cartesian product but of course categorically it is a filtered product i.e. a pullback --- if $w < x$ and $w < y$  then 
\genericcrossxproductdiagram % defined in 'paper.tex'
is a pullback diagram in \ccat.


We can extend the $\crossx{}{}{w}$ notation to morphisms. If $f:x \morph x'$ and $g: y \morph y'$ in a contextual
category $\ccat[C]$ and if $w$ is an object such that $w < x$, $w <x'$, $w < y$ and $w < y'$ then 
define $\crossx{f}{g}{w}:\crossx{x}{y}{w} \morph \crossx{x'}{y'}{w}$ in $\ccat[C]$ by
\begin{equation}
\crossx{f}{g}{w} = \tuple{p_{\crossx{x}{y}{w}, x} \circ f,q(p_{x,w},y) \circ g}
\end{equation}
as shown here:  
\begin{equation*}
\begin{array}{c p{1.2cm} c  p{0.2cm} c p{0.2cm} c p{1.8cm} c}
\Rnode{xy}{\crossx{x}{y}{w}} && \Rnode{xpyp}{\crossx{x'}{y'}{w}} \\[1.4cm]
\Rnode{x}{x}                 && \Rnode{xp}{x'}                   &&&& \Rnode{y}{y} && \Rnode{yp}{y'} \\[1.8cm]
                             &&                         && \Rnode{w}{w}  &&    &&      
\makebox[0cm]{
\nccdar{xy}{x}
\nccdar{xpyp}{xp}
\nccdar{x}{w}
\nccdar{xp}{w}
\nccdar{y}{w}
\nccdar{yp}{w}
\ncarr{x}{xp}
\alabel{f}
\ncarr{y}{yp}
\alabel{g}[0.35]
\ncarr{xy}{y}
\alabel{q(p_{x,w},y)}[0.7][0.2]
\ncarr{xpyp}{yp}
\alabel{q(p_{x',w},y')}[0.5][0.2]
\ncdarr[10]{xy}{xpyp}
%\alabel{\tuple{p_{\crossx{x}{y}{w}, x} \circ f,q(p_{x,w},y) \circ g}}[0.5][2]
\alabel{\crossx{f}{g}{w}}%[-0.1][15]
}
\end{array}
\end{equation*}

In the special case that $x=x'$ and $f=id_x$ then we get  $\crossx{id_x}{g}{w} : \crossx{x}{y}{w} \morph \crossx{x}{y'}{w}$. 
This morphism we abbreviate as $\crossx{x}{g}{w}$. 


In the   case that $w$ is the terminal object $1$ then the pullback  specialises to give a product diagram:
\begin{displaymath}
\begin{array}{ccccc}
\Rnode{xy}{\crossx{x}{y}{1}} &&               &&               \\[1.3cm]
\Rnode{x}{x}                 &&               && \Rnode{y}{y}  \\                                    
\end{array}
\mbox{\ncsar{xy}{x}
\blabel{p_{\crossx{x}{y}{1},x}}
\ncaarr{q(p_{x,1},y)}{xy}{y}}
\end{displaymath}

In this special case the $\tuple{}$ operation defined earlier is the pairing operation for if
$f: w \morph x$ and $g: \morph y$ then $\tuple{f,g}: w \morph \crossx{x}{y}{1}$ 
and 
\begin{equation}
\tuple{f,g} \circ p_{\crossx{x}{y}{1},x} = f
\end{equation}
and
\begin{equation}
\tuple{f,g} \circ q(p_{x,1},y) = g
\end{equation}

Note that the product operation $\crossx{}{}{1}$ is far from symmetric 
because if, for example, $1 \base x$ and $1 \base y$ then $x \base \crossx{x}{y}{1}$ and $y \base \crossx{y}{x}{1}$. We can define 
a swap operation $sw_{x,y} : \crossx{x}{y}{1} \morph \crossx{y}{x}{1}$ by
\begin{equation}
sw_{x,y} = \tuple{q_{p_x,y}, p_{\crossx{x}{y}{1},x}}
\end{equation}

Associativity of $\crossx{}{}w$  follows from the coherence property of the pullbacks in the contextual category. 
For example if $w < x$, $w < y$, $w < z$ in a \ccat then from coherence of pullbacks in \ccat we have:
$\crossx{x}{(\crossx{y}{z}{w})}{w} = \crossx{(\crossx{x}{y}{w})}{z}{w}$ as shown here in this diagram:
 
\begin{displaymath}
\begin{array}{cp{1.0cm}cp{1.0cm}c}
\Rnode{J1}{}\Rnode{D1} {\crossx{(\crossx{x}{y}{w})}{z}{w}}\Rnode{J2}{} \ \ \ \ \   &&  &&  \\ 
= && && \\
\Rnode{D2} {\crossx{x}{(\crossx{y}{z}{w})}{w}}    &&  &&                        \\ [1.3cm]
\Rnode{xy}{\crossx{x}{y}{w}}&& \Rnode{yz}{\crossx{y}{z}{w}} &&                      \\[1.3cm]
\Rnode{x}{x}&& \Rnode{y}{y} && \ \ \ \ \ \ \ \ \ \ \ \ \ \Rnode{z}{z}                                        \\[1.3cm]
             && \Rnode{w}{w} &&                                                     
\end{array}
\end{displaymath}

\ncaarr[50]{q(\pc{\crossx{x}{y}{w}}{w},z)}{J2}{z}
\ncsar{D2}{xy}
\ncsar{xy}{x}
\ncsar{yz}{y}
\ncsar{x}{w}
\ncsar{y}{w} 
\ncsar{z}{w}
\ncaarr{q(\pc{x}{w},y)}{xy}{y}
\ncaarr{q(\pc{y}{w},z)}{yz}{z}
\ncaarr{q(\pc{x}{w},\crossx{y}{z}{w})}{D2}{yz}

\vspace{0.15cm}
\begin{lemma}
\llabel{crossstardistributivitylemma}
\commentary{This is the metaGAT idenity but do we need to replace $x_p$ by any $w$, $w < x$?}
For all objects $x_p \base x$, and for all objects $y_p \base y \leq z_P \base z$ in \catc, 
for all sections $g:y_p \morph y$ in \catc, 
\begin{equation}
\label{metagatcrossstarcross}
(\crossx{x}{g}{x_p})^*(\crossx{x}{z}{x_p})=\crossx{x}{(g^*z)}{x_p}
\end{equation}
and for all sections $h:z_p \morph z$ in \catc,
\begin{equation}
\label{metagatcrossstarcrosssection}
(\crossx{x}{g}{x_p})^*(\crossx{x}{z}{x_p})=\crossx{x}{(g^*h)}{x_p}.
\end{equation}
\end{lemma}
\begin{proof}
(\ref{metagatcrossstarcross}) is a special case of lemma \lref{stardistributesonobjects}
and
(\ref{metagatcrossstarcrosssection}) is a special case of lemma \lref{stardistributesonmorophismslemma}.
\end{proof}
\begin{lemma}
\llabel{sofplemma}
If $1 \base b_1 ... \base b_m$ in \catc, for some $m \ge 1$ in a contextual category \catc then \foreachj,
$s(p_{b_m,b_j}): b_m \morph \crossx{b_m}{b_j}{b_{j-1}}$ in \catcw.
\end{lemma}
\begin{proof}
Because $p_{b_m,b_j}: b_m \morph b_j$ in $\catcw$ and so be definition of operator $s$ it follows that $s(p_{b_m,b_j}): b_m  \morph (p_{b_m,b_j} \circ p_{b_j})^*b_j$
and we have 
\begin{align*}
(p_{b_m,b_j} \circ p_{b_j})^*b_j &= {p_{b_m,b_{j-1}}} ^* b_j  && \mbox{ because $p_{b_m,b_j} \circ p_{b_j}=p_{b_m,b_{j-1}}$,} \\
                                 &= \crossx{b_m}{b_j}{b_{j-1}} && \mbox{ by definition of $\crossx{}{}{w}$}.
\end{align*}
\end{proof}
\begin{lemma}
\llabel{sofpsubstitutionlemma}
If $1 \base a_1 ... \base a_n \base a_{n+1}$, for some $n \ge 1$ in a contextual category \catc, then 
for each $i$ and $j$, $1 \leq i < j \leq n+1$
\begin{equation*}
s(p_{a_{n},a_{i}})^*...s(p_{a_{n},a_1})^*(\crossx{a_{n}}{a_j}{1}) 
= \crossx{a_{n}}{a_j}{a_{i}}.
\end{equation*} 
\end{lemma}
\begin{proof}
By induction on $i$. 
In the case of $i=1$ we have\commentary{remove repetition: arrange so that induction starts from $n=0$ with nothing to prove.} 
\begin{align*}
s(p_{a_n,a_1})^*(\crossx{a_{n}}{a_j}{1})
& = s(p_{a_n,a_1}) ^* {p_{a_n,1}} ^* a_j
&&\mbox{ by definition of $\crossx{}{}{}$}\\
&= s(p_{a_{n},a_{i}})^*  q(p_{a_n,1},a_1) ^* a_j
&&\mbox{ by definition of extended $^*$,}\\
&= (s(p_{a_{n},a_1}) \circ q(p_{a_n,1},a_1)) ^* a_j
&&\mbox{ by (q5),}\\
&= {p_{a_{n},a_1}}^*a_j
&&\mbox{ by (s2),} \\
&= \crossx{a_{n}}{a_j}{a_1}
&&\mbox{by definition of $\crossx{}{}{}$, as required.}
\end{align*}
If $i >1$ then we have the following diagram in \catc 
$$
\begin{array}{cp{0.5cm}cc}
\Rnode{L0}{{p_{a_n,a_{i-1}}}^*a_j} &&                 &                \\[1.0cm]
\Rnode{L1}{{p_{a_n,a_{i-1}}}^*a_i} &&                 &                \\[1.0cm]
\Rnode{L2}{a_n}                    &&                 &                \\[0.25cm]
                                   && \Rnode{L3}{a_j} &                \\[1.0cm]
                                   && \Rnode{L4}{a_i} &                \\[0.5cm]
\Rnode{L5}{a_{i-1}}                &&                 &           
\end{array}
\mbox{
\nccdar{L0}{L1} 
\ncsar{L1}{L2}  
\nccdar{L2}{L5}   
\nccdar{L3}{L4}   
\ncsar{L4}{L5}
\ncarr[-10]{L1}{L4}
\alabel{q(p_{a_n,a_{i-1}},a_i)}[0.35]
\ncleftsimplesection{L2}{L1}
\alabel{s(p_{a_n,a_i})}
}
$$
and we can show
\begin{align*}
s(p_{a_{n},a_{i}})^*...s(p_{a_{n},a_1})^*(\crossx{a_{n}}{a_j}{1})
& = s(p_{a_{n},a_{i}})^* (\crossx{a_{n}}{a_j}{a_{i-1}})
&&\mbox{ by the inductive hypthesis,} \\
&= s(p_{a_{n},a_{i}})^* {p_{a_n,a_{i-1}}} ^* a_j
&&\mbox{ by definition of $\crossx{}{}{}$}\\
&= s(p_{a_{n},a_{i}})^*  q(p_{a_n,a_{i-1}},a_i) ^* a_j
&&\mbox{ by definition of extended $^*$,}\\
&= (s(p_{a_{n},a_{i}}) \circ q(p_{a_n,a_{i-1}},a_i)) ^* a_j
&&\mbox{ by (q5),}\\
&= {p_{a_{n},a_{i}}}^*a_j
&&\mbox{ by (s2),} \\
&= \crossx{a_{n}}{a_j}{a_{i}}
&&\mbox{by definition of $\crossx{}{}{}$, as required.}
\end{align*}
\end{proof}

\begin{oldtt}
\begin{lemma}
\llabel{secondsofpsubstitutionlemma}
If $1 \base a_1 ... \base a_n \base a_{n+1}$ in \catc, for some $n \ge 1$ in a contextual category \catc then \foreachi,
\begin{equation*}
s(p_{a_{n},a_{i-1}})^*...s(p_{a_{n},a_1})^*(\crossx{a_{n}}{a_{n+1}}{1}) = a_{n+1}.
\end{equation*} 
\end{lemma}
\end{oldtt}

\begin{lemma}
\llabel{crosssectionlemma}
If 
\raisebox{-0.15cm}{
$
\begin{array}{ c c c}
\Rnode{B}{B} &              & \Rnode{Bp}{B'} \\[1cm]
             & \Rnode{A}{A} &     
\mbox{\ncsar{B}{A}
\ncsar{Bp}{A}
%\ncarr[-30]{A}{Bp}
\ncrightsimplesection{A}{Bp}
\blabel{g}}
\end{array}
$}
in a contextual category \catcw and if $g$ is a section of $B'$ (i.e. if $g \circ p_{B'}= id_A$) so that we have 
\begin{equation*}
\begin{array}{ c c c}
\Rnode{BBp}{\crossx{B}{B'}{A}} \\[1.3cm]
\Rnode{B}{B} &              & \Rnode{Bp}{B'} \\[1.1cm]
             & \Rnode{A}{A} &
\mbox{
\ncsar{BBp}{B}
\ncrightcrosssection{B}{BBp}
\blabel{\crossx{B}{g}{A}}
\ncsar{B}{A}
\blabel{p_B}
\ncsar{Bp}{A}
\ncrightsimplesection{A}{Bp}
\blabel{g}
\ncarr[30]{BBp}{Bp}
\alabel{q(p_B,B')}
}														
\end{array}
\end{equation*}
in \catcw,  then
\begin{equation}
\label{crosssectionlemmatarget}
\crossx{B}{g}{A} = s(p_B \circ g).
\end{equation} 
\end{lemma}
\begin{proof}
$\crossx{B}{g}{A}$ is defined to be the unique section of $\crossx{B}{B'}{A}$ such that $(\crossx{B}{g}{A}) \circ q( p_B,B') = p_B \circ g$ and
so (\ref{crosssectionlemmatarget}) follows 
because $s(p_B \circ g)$ is a section of $\crossx{B}{B'}{A}$ (because by definition it is a section
of $(p_B \circ g \circ p_{B'}) ^* B'$ and this simplifies, because $g$ is a section, to  ${p_B} ^* B'$ i.e to $\crossx{B}{B'}{A}$ )
and because
$$s(p_B \circ g) \circ q( p_B,B') = p_B \circ g$$
because
\begin{align*}
lhs &=  s(p_B \circ g) \circ q( p_B \circ g \circ p_{B'}, B') && \mbox{since $g$ is a section,} \\
    &=  p_B \circ g                                           && \mbox{by axiom (s2).} 
\end{align*}
\end{proof}


\subsection{Cascades of sections}
The following definition and its accompanying lemma are used when reasoning about the interpretations of theories. 
\begin{definition}
If $a$ is any object of a contextual category \catcw and if $1 \base b_1 ... \base b_n$ in \catc, for some $n \ge 1$, 
then define a \term{cascade} from $a$ to $b_n$ to consist of an n-tuple of sections $\fn$ of \catc, such that \foreachi, 
$f_i \in Sect(\fipvectorstar(\crossx{a}{b_i}{1}))$.
\end{definition}
As we show in the next lemma,  in such a  cascade, for each $i$, 
$\fipvectorstar(\crossx{a}{b_i}{1} \in Cover(a)$ and so in such a cascade there are the following objects
and morphisms:
\commentary{Do I need a lemma to say that $^*$ maps section to sections?}

\newcommand{\ncdotdotdot}[2]
{\ncline[linestyle=none]{#1}{#2} 
 \ncput[nrot=:U]{\Large$ \hdots$}
}
\begin{displaymath}
\begin{array}{ c p{0.4cm} c p{0.2cm} c p {0.2cm} c } 
\Rnode{fntarget}{\fnonestar...\ftwostar\fonestar(\crossx{a}{b_n}{1})}
&&\Rnode{f3target}{\ftwostar\fonestar(\crossx{a}{b_3}{1})}
&&\Rnode{f2target}{\fonestar(\crossx{a}{b_2}{1})}  
&& \Rnode{ab1}{\crossx{a}{b_1}{\Rnode{f1target}{1}}}     \\[2cm]
      &&     &&   \ovalnode[linestyle=none]{a}{a}     &&            
\makebox[0cm]{
\ncarc[arcangle=-5,nodesepA=15pt,offsetA=-2pt,nodesepB=3pt,offsetB=-5pt]{->}{a}{f1target}
\blabel{f_1}[0.6]
\ncarc[arcangle=10,nodesepA=15pt,offsetA=1pt,nodesepB=2pt,offsetB=2pt]{->}{a}{f2target}
\alabel{f_2}[0.4]
\ncarc[arcangle=10,nodesepA=15pt,offsetA=1pt,nodesepB=2pt,offsetB=2pt]{->}{a}{f3target}
\alabel{f_3}[0.65]
\ncarc[arcangle=7,nodesepA=15pt,offsetA=1pt,nodesepB=2pt,offsetB=2pt]{->}{a}{fntarget}
\alabel{f_n}[0.75][0]
\ncdotdotdot{fntarget}{f3target}
\setlength{\sarnodesepB}{10pt}
\ncsar{fntarget}{a}
\ncsar{f3target}{a}
\ncsar{f2target}{a}
\ncsar{f1target}{a}
\sarreset
}
\end{array}
\hspace{2cm}
\begin{array}{c}
\Rnode{bn}{b_n}             \\[1.0cm]
\Rnode{b2}{b_2}             \\[0.6cm]
\Rnode{b1}{b_1}             \\[0.6cm]
\Rnode{abs}{1}              \\
\makebox[0cm]{
\ncsar{b}{bn}
\ncdotdotdot{bn}{b2}
\ncsar{b2}{b1}
\ncsar{b1}{abs}
}
\end{array}
\end{displaymath}



\begin{lemma}
\llabel{cacscadelemma}
If $a$ is an object of a contextual category \catc, if $1 \base b_1 ... \base b_n$ in \catcw and if $f_1,...f_n$ is a cascade from $a$ to $b_n$ in  \catcw then \foreachi, $a \base \fipvectorstar(\crossx{a}{b_i}{1})$ in \catc.
Additionally if $b$ is some object of \catcw such that $b_n \base b$ in \catcw then 
 $a \base \fnvectorstar(\crossx{a}{b}{1})$ in \catcw and
if $g$ is a section of $b$ then $\fnvectorstar(\crossx{a}{g}{1})$ is a section of $\fnvectorstar(\crossx{a}{b}{1})$.
\end{lemma}
\begin{proof}
From the definition of $\crossx{}{}{1}$ it follows that $a \base \crossx{a}{b_1}{1} \base \crossx{a}{b_2}{1} ... \base \crossx{a}{b_n}{1} \base \crossx{a}{b}{1}$ in \catc. Now since $f_1 \in Sect(\crossx{a}{b_1}{1})$ it follows from the definition of the extended $^*$ notation
that $a \base f_1^*(\crossx{a}{b_2}{1})  ... \base f_1^*(\crossx{a}{b_n}{1}) \base f_1^*(\crossx{a}{b}{1})$ in \catc.

Similarly, since $f_2 \in Sect(f_1^*(\crossx{a}{b_2}{1}))$ it follows 
that $a \base f_2^*f_1^*(\crossx{a}{b_3}{1})  ... \base f_2^*f_1^*(\crossx{a}{b_n}{1}) \base f_2^*f_1^*(\crossx{a}{b}{1})$ in \catc.

If we continue in this way we see (by induction,  if we were to be formal about it) that \foreachi, $f_i \in Sect(\fipvectorstar(\crossx{a}{b_i}{1}))$
and that $a \base \fnvectorstar(\crossx{a}{b}{1})$ in \catc. In fact we see that
we have the following objects and morphisms in \catc:

\begin{displaymath}
\begin{array}{c  c p{0.4cm} c p{0.2cm} c p {0.2cm} c  p{0.5cm} c}
&&&                                               &&                                           && \Rnode{ab}{\crossx{a}{b}{1}}    &&                \\[1.2cm]
&&&                                               &&  \Rnode{f1ab}{\fonestar(\crossx{a}{b}{1})}
%\rule[-1cm]{3pt}{1pt}
&& \Rnode{abn}{\crossx{a}{b_n}{1}} &&                \\[1.2cm]
&&&                                               &&  \Rnode{f1abn}{\fonestar(\crossx{a}{b_n}{1})}&&                              &&                \\[0.1cm]
&&&                                               &&                                           && \Rnode{ab3}{\crossx{a}{b_3}{1}} &&                \\[1.2cm]
&\Rnode{fn1axb}{\fnonestar...\ftwostar\fonestar(\crossx{a}{b}{1})}&& &&\Rnode{f1axb3}{\fonestar(\crossx{a}{b_3}{1})}  && \Rnode{ab2}{\crossx{a}{b_2}{1}}  &&           \\[1.2cm]
\Rnode{ftarget}{\fnstar...\ftwostar\fonestar(\crossx{a}{b}{1})}\ \ &\Rnode{fntarget}{\fnonestar...\ftwostar\fonestar(\crossx{a}{b_n}{1})}&&
\Rnode{f3target}{\ftwostar\fonestar(\crossx{a}{b_3}{1})} &&\Rnode{f2target}{\fonestar(\crossx{a}{b_2}{1})}  && \Rnode{ab1}{\crossx{a}{b_1}{\Rnode{f1target}{1}}}     \\[1.2cm]
&&&                                               &&                                           &&                                                       \\[-6.4cm] %%% HEE HEE HE
&&&																								&&                                           &&                         && \Rnode{b}{b}                \\[1.2cm]
&&&																								&&                                           &&                         && \Rnode{bn}{b_n}             \\[0.3cm]
&&&                                               &&                                           &&                         &&                             \\[0.3cm]
&&&																								&&                                           &&                         && \Rnode{b3}{b_3}             \\[1.2cm]
&&&																								&&                                           &&                         && \Rnode{b2}{b_2}             \\[1.2cm]
&&&																								&&                                           &&                         && \Rnode{b1}{b_1}             \\[0.3cm]
&&&		\ovalnode[linestyle=none]{a}{a}					    &&                                           &&                         &&                             \\[1.1cm]
&&&                                               &&                                           && \Rnode{abs}{1} \ \ \ \ \ \ \ \ &&                      \\           
\makebox[0cm]{
\ncarr{ab}{b}
\ncarr{abn}{bn}
\ncarr{f1ab}{ab}
\ncarr{f1abn}{abn}
\ncarr{ab3}{b3}
\ncarr{ab2}{b2}
\ncarr{ab1}{b1}
\ncarr{f1axb3}{ab3}
\ncarr{f2target}{ab2}
\ncarr{f3target}{f1axb3}
\ncarr{ftarget}{fn1axb}
\ncdotdotdot{fn1axb}{f1ab} 
\ncdotdotdot{fntarget}{f1abn}
\ncdotdotdot{fntarget}{f3target}
%
\ncarc[arcangle=-20,nodesepA=5pt,offsetA=-3pt,nodesepB=3pt,offsetB=-4pt]{->}{bn}{b}
\blabel{g}[0.6]
\ncarc[arcangle=-5,nodesepA=15pt,offsetA=-2pt,nodesepB=3pt,offsetB=-5pt]{->}{a}{f1target}
\blabel{f_1}[0.6]
\ncarc[arcangle=10,nodesepA=15pt,offsetA=1pt,nodesepB=2pt,offsetB=2pt]{->}{a}{f2target}
\alabel{f_2}[0.4]
\ncarc[arcangle=10,nodesepA=15pt,offsetA=1pt,nodesepB=2pt,offsetB=2pt]{->}{a}{f3target}
\alabel{f_3}[0.6]
\ncarc[arcangle=7,nodesepA=15pt,offsetA=1pt,nodesepB=2pt,offsetB=2pt]{->}{a}{fntarget}
\alabel{f_n}[0.75][0]
\ncarc[arcangle=7, nodesepA=15pt,offsetA=1pt,nodesepB=2pt,offsetB=2pt]{->}{a}{ftarget}
\alabel{\fnvectorstar g}[0.6]
\setlength{\sarnodesepB}{10pt}
\ncsar{fntarget}{a}
\ncsar{ftarget}{a}
\ncsar{f3target}{a}
\ncsar{f2target}{a}
\ncsar{f1target}{a}
\sarreset
\ncsar{fn1axb}{fntarget}
%left but two tower
\ncsar{f1ab}{f1abn}
\ncdotdotdot {f1abn}{f1axb3}
\ncsar{f1axb3}{f2target}
%left but one tower
\ncsar{ab}{abn}
\ncdotdotdot{abn}{ab3}
\ncsar{ab3}{ab2}
\ncsar{ab2}{ab1}
%left tower
\ncsar{b}{bn}
\ncdotdotdot{bn}{b3}
\ncsar{b3}{b2}
\ncsar{b2}{b1}
\ncsar{b1}{abs}
\nccdar{a}{abs}
}
\end{array}
\end{displaymath}
\end{proof}

\begin{lemma} \commentary{moved from later}
\llabel{cascadedpullbackscohere}
If $a$ is any object of a contextual category \catcw, if $1 \base b_1 ... \base b_n$ and $1 \base c_1 ... \base c_m$ in \catc, for some $n,m \ge 1$, 
if $\tuple{\fn}$ is a \term{cascade} from $a$ to $b_n$ and
if $\tuple{\gm}$ is a \term{cascade} from $b_n$ to $c_m$ and if  $c_m \base c$ in \catcw then
%\newcommand{\clausethreelhs}{\big(\fmvectorstar (\crossx{a}{g_n}{1})\big)^* ... \big(\fmvectorstar (\crossx{a}{g_1}{1})\big) ^* \big(\crossx{b_m}{c}{1}\big)}
%\newcommand{\clausethreerhs}{\fmvectorstar \big(  \crossx{a}{(\gnvectorstar(\crossx{b_m}{c}{1}))}{1} \big)}
\begin{equation}
\label{cascadedpullbackscohereonobjects}
\big(\fmvectorstar (\crossx{a}{g_n}{1})\big)^* ... \big(\fmvectorstar (\crossx{a}{g_1}{1})\big) ^* \big(\crossx{b_m}{c}{1}\big) 
= \fmvectorstar \big(  \crossx{a}{(\gnvectorstar(\crossx{b_m}{c}{1}))}{1} \big)                                    
\end{equation}
and if  $h$ is any section of $c$ then 
\begin{equation}
\label{cascadedpullbackscohereonsections}
\big(\fmvectorstar (\crossx{a}{g_n}{1})\big)^* ... \big(\fmvectorstar (\crossx{a}{g_1}{1})\big) ^* \big(\crossx{b_m}{h}{1}\big) 
= \fmvectorstar \big(  \crossx{a}{(\gnvectorstar(\crossx{b_m}{h}{1}))}{1} \big)                                    
\end{equation}
\end{lemma}
\begin{proof}
The first follows by repeated application of identities (\ref{metagattriplestar}) and (\ref{metagatcrossstarcross}), 
the second, similarly, by repeated application of identities (\ref{metagattriplestarsection}) and (\ref{metagatcrossstarcrosssection})
\end{proof}
\begin{lemma}
\llabel{cascadeprojectionlemma}
If $a$ is any object of a contextual category \catcw, if $1 \base b_1 ... \base b_n$ in \catc, for some $n \ge 1$, 
if $\tuple{\fn}$ is a \term{cascade} from $a$ to $b_n$ then \foreachi,
\begin{equation}
\fnvectorstar(\crossx{a}{s(p_{b_n,b_i})}{1})=f_i.                                    
\end{equation}
\end{lemma}