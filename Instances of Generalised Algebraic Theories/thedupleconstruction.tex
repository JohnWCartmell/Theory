\newcommand{\duplesone}{{\duple{s_1}_{y_1}}}
\newcommand{\duplestwo}{{\duple{s_1,s_2}_{y_2}}}

\newcommand{\duplesn}{\duple{s_1,...s_n}_{y_n}}
\newcommand{\duplesi}{{\duple{s_1,...s_i}_{y_i}}}
\newcommand{\duplesilessone}{\duple{s_1,...s_{i-1}}_{y_{i-1}}}
\newcommand{\duplesj}{{\duple{s_1,...s_j}_{y_j}}}
\newcommand{\duplesjlessone}{\duple{s_1,...s_{j-1}}_{y_{j-1}}}
\newcommand{\duplesisucc}{{\duple{s_1,...s_{i+1}}_{y_{i+1}}}}
\newcommand{\duplesnlessone}{{\duple{s_1,...s_{n-1}}_{y_{n-1}}}}
\newcommand{\ynz}{\crossx{y_n}{z}{y_i}}


\newcommand {\sonesub}{{s_1}^*}
\newcommand {\stwosub}{{s_2}^*}
\newcommand {\stwocascade}{\stwosub\sonesub}
\newcommand {\sisub}{{s_i}^*}
\newcommand {\sicascade}{\sisub...\sonesub}
\newcommand {\sisuccsub}{{s_{i+1}}^*}
\newcommand {\sisucccascade}{\sisuccsub...\sonesub}
\newcommand {\snlessonesub}{{s_{n-1}}^*}
\newcommand {\snlessonecascade}{\snlessonesub...\sonesub}
\newcommand {\snsub}{{s_n}^*}
\newcommand {\sncascade}{\snsub...\sonesub}

If $x$ is an object of contextual category \catc, if $1 \base y_1 ... \base y_n$ in \catcw and if
$\sntuple$ is a cascade from $x$ to $y_n$ in \catcw
then  we can define a morphism
$\duplesn:x \morph y_n$ in \catcw such that 
\begin{axiom}{d1}
s(\duplesn) = s_n,
\end{axiom}
for $n> 1$, 
\begin{axiom}{d2}
\duplesn \circ p_{y_n} = \duplesnlessone, 
\end{axiom}
and for all objects $y$ of \catcw such that $y_n < y$, 
\begin{axiom}{d3a}
{\duplesn} ^*y = \sncascade (\crossx{x}{y}{1}),
\end{axiom}
and for all sections $g$ of $y$,
\begin{axiom}{d3b}
{\duplesn} ^* g = \sncascade (\crossx{x}{g}{1}).
\end{axiom}


The definition of $\duplesn$ proceeds by induction. 
Define $\duplesone= s_1 \circ q(p_{x,1},y_1)$.
By axiom (s1), we directly establish, (d1), that $s(\duplesone)=s_1$.

If $y_1 <y$ in \catcw then we establish (d3a), that $\sonesub (\crossx{x}{y}{1})=\duplesone ^*y$ as follows
\begin{align*}
\sonesub (\crossx{x}{y}{1})&= \sonesub q(p_{x,1},y_1)^*y     && \mbox{by definition of $\crossx{}{}{1}$,}\\
                         &= (s_1 \circ q(p_{x,1},y_1))^*y   && \mbox{by pullback coherence axiom (q5),}\\
                         &= \duplesone ^*y                   && \mbox{by definition of $\duplesone ^*y$.}
\end{align*}
Also, if $g$ is a section of $y$ then we can show (d3b),  
that $\sonesub (\crossx{x}{g}{1})=\duplesone ^* g$, by a similar argument. 

Now assume that $\duplesi$ is defined and satisfies (\ref{d1}) to (\ref{d3b}) above. 
In particular we have  $\sicascade y_{i+1} = \duplesi ^*y_{i+1}$, and therefore that
$s_{i+1} \in Sect(\duplesi ^*y_{i+1})$, and this then allows us to define $\duplesisucc$ by 
\begin{equation*}
\duplesisucc = s_{i+1} \circ q(\duplesi, y_{i+1}).
\end{equation*} 
Immediately by axiom (s3)
we establish (d1), that $s(\duplesisucc)=s_{i+1}$.
We establish (d2), that $\duplesisucc \circ p_{y_{i+1}}= \duplesi$, as follows
\begin{align*}
\duplesisucc \circ p_{y_{i+1}} &=s_{i+1} \circ q(\duplesi, y_{i+1}) \circ p_{y_{i+1}} && \mbox{by definition of $\duplesisucc$,} \\
                               &=s_{i+1} \circ p_{\duplesi ^*y_{i+1}} \circ \duplesi && \mbox{by (Q1),} \\
															 &= \duplesi                       && \mbox{because $s_{i+1}$ is a section.}
\end{align*}
To establish (\ref{d3a}), suppose $y$ is some object such that $y_{i+1} < y$ in \catcw then we can show that $\sisucccascade (\crossx{x}{y}{1})=\duplesisucc ^*y$ as follows:
\begin{align*}
\sisucccascade (\crossx{x}{y}{1}) 
              &= \sisuccsub \duplesi ^*y && \mbox{by inductive hypothesis,} \\
                         &= \sisuccsub q(\duplesi,y_{i+1})^*y  && \mbox{by (Q6),}\\
                         &= (s_{i+1} \circ q(\duplesi,y_{i+1}))^*y   && \mbox{by (Q4),}\\
                         &= \duplesisucc ^*y                   && \mbox{by definition of $\duplesisucc$.}
\end{align*}
A similar argument shows that if $g$ is a section of $y$ then $\sisucccascade (\crossx{x}{g}{1})=\duplesisucc ^* g$ to establish (\ref{d3b}).


\begin{lemma}
\llabel{dupledestructionlemma}
If $\duplesn : x \morph y_n$ in a contextual category $\catcw$ then \foreachi, 
\begin{equation}
\duplesn \circ p_{y_n,y_i} = \duplesi
\end{equation} 
\end{lemma}
\begin{proof}
Follows because for each $j$, $i < j \leq n$, $\duplesj \circ p_{y_j} = \duplesjlessone$
and $p_{y_j,y_i} = p_{y_j} \circ p_{y_{j-1},y_i}$.
\end{proof}
\begin{lemma}
\llabel{dupleofslemma}
If $x$ and $y$ are objects of a contextual category \catcw such that $1 \base y$ and if $g: x \morph y$ is a morphism then
\begin{equation*}
\duple{s(g)} = g
\end{equation*}
\end{lemma}
\begin{proof}
By definition, $s(g):x \morph \crossx{x}{y}{1}$ in \catc. 
Therefore,by definition,  $\duple{s(g)}$ is defined,  $\duple{s(g)}:x \morph y$ in \catcw and
satisfies
\begin{equation}
\label{duplesgidentity}
s(\duple{s(g)}) = s(s(g))
\end{equation}
But $s(s(g))=s(g)$ by lemma \lref{sidempotent} and therefore $\duple{s(g)}=g$ by lemma \lref{stactic}.
\end{proof}
%
%
%
{ % BEGIN   {thegeneraldupletuplelemma} and proof
\newcommand{\tuplesnsg}{\tuple{s_1,...s_n,s(g)}}
\newcommand{\duplesnsg}{\duple{s_1,...s_n, s(g)}_{f^*z}}
\newcommand{\dupletuplerhs}{\bigtuple{\duplesn,g}}
\begin{lemma}
\llabel{thegeneraldupletuplelemma} 
If $x$, $y_1$,...$y_n$, $z_p$ and $z$ are objects of a contextual category \catcw 
such that $1 \base y_1 ... \base y_n$ and $z_p \base z$ in \catc, 
if $f: y_n \morph z_p$, so that there is this pullback diagram 
\begin{displaymath}
\begin{array} {c p{3cm} c p{2cm} c}
              && \Rnode{TL}{f^*z}  && \Rnode{TR}{z}  \\[1.2cm]
              && \Rnode{BL}{y_n}   && \Rnode{BR}{z_p}
\end{array}
\begin{arrows}
\ncsar{TL}{BL}
\ncsar{TR}{BR}
\ncarr{TL}{TR}
\alabel{q(f,z)}
\ncarr{BL}{BR}
\blabel{f}
\end{arrows}
\end{displaymath}
in \catc, if $\tuplesnsg$ is a cascade from $x$ to $f^*z$ and $g:x \morph z$ in \catcw 
such that
\begin{equation} \label{generaldupletuplegiven}
g \circ p_z = \duplesn \circ f
\end{equation} 
then
\begin{equation}
\label{generaldupletuplegoaltwo}
\duplesnsg = \dupletuplerhs
\end{equation}
where $\dupletuplerhs$ is the unique morphism $\dupletuplerhs:x \morph f^*z$ such that
\begin{equation}
\label{generaldupletupledefone}
\dupletuplerhs \circ q(f,z) =g
\end{equation} 
and 
\begin{equation}
\dupletuplerhs \circ p_{f^*z} = \duplesn
\end{equation}
 as shown in this diagram
\begin{displaymath}
\begin{array} {c p{3cm} c p{2cm} c}
% FL is Far Left !!
\Rnode{FL}{x} &&                   &&                \\[1.0cm]
              && \Rnode{TL}{f^*z}  && \Rnode{TR}{z}  \\[1.2cm]
              && \Rnode{BL}{y_n}   && \Rnode{BR}{z_p}
\end{array}
\begin{arrows}
\ncsar{TL}{BL}
\ncsar{TR}{BR}
\ncarr[30]{FL}{TR}
\alabel{g}
\ncarr{FL}{TL}
\alabel{\dupletuplerhs}[0.7][1]
\ncarr[-20]{FL}{BL}
\blabel{\duplesn}[0.5][0]
\ncarr{TL}{TR}
\alabel{q(f,z)}
\ncarr{BL}{BR}
\blabel{f}
\end{arrows}
\end{displaymath}
\end{lemma}
\begin{proof}
\iffalse
To show $\tuplesnsg$ is a cascade from $x$ to $f^*z$ then we must have that
$\sntuple$ is a cascade from $x$ to $y_n$ and that $s(g) \in Sect(s_n^*...s_1^*(\crossx{x}{f^*z}{1}))$.
From the definition of $s$ we have that $s(g)\in Sect((g \circ p_z) ^* z)$ and and therefore 
we need to show that
\begin{equation}
\label{generaldupletupleone}
s_n^*...s_1^*(\crossx{x}{f^*z}{1}) = (g \circ p_z) ^* z.
\end{equation}
which we show as follows
\begin{align*}
s_n^*...s_1^*(\crossx{x}{f^*z}{1}) &= \duplesn ^* f^*z  && \mbox{ by (d3),} \\
            &= (\duplesn \circ f)^* z                   && \mbox{ by (q5)}  \\
            &= (g \circ p_z) ^* z                       && \mbox{ by  (\ref{generaldupletuplegiven}). }
\end{align*}
\fi
To show (\ref{generaldupletuplegoaltwo})
we need just show that
\begin{equation}
\label{generaldupletuplesubgoalone}
\duplesnsg \circ q(f,z) =g
\end{equation} 
and 
\begin{equation}
\label{generaldupletuplesubgoaltwo}
\duplesnsg \circ p_{f^*z} = \duplesn
\end{equation}
(\ref{generaldupletuplesubgoalone}) follows because by lemma \lref{footandstactic}
 it suffices to show that
\begin{equation}
\label{generaldupletuplesubgoaloneone}
\duplesnsg \circ q(f,z) \circ p_z =g \circ p_z,
\end{equation}
which follows directly from (\ref{generaldupletupledefone}), and
\begin{equation}
\label{generaldupletuplesubgoalonetwo}
s(\duplesnsg \circ q(f,z)) =s(g)
\end{equation}
which we prove as follows:
\begin{align*}
s(\duplesnsg \circ q(f,z)) &=s(\duplesnsg  && \mbox{ by (s3),} \\
                          &= s(g)                       && \mbox{ by (d1).}
\end{align*}
whereas (\ref{generaldupletuplesubgoaltwo}) is an instance of clause (d2) of the definition of $\duple{}$.
\end{proof}
} % END   {thegeneraldupletuplelemma} and proof
%
%
%

\highlight{The following becomes a special case of the generaldupletuplelemma.}
{ % BEGIN {thedupletuplelemma} and proof 
\newcommand{\duplesnsg}{\duple{s_1,...s_n, s(g)}_{\ynz}}
\newcommand{\dupletuplerhs}{\bigtuple{\duplesn,g}_{p_{y_{n},y_i},z}}
\begin{lemma}
\llabel{thedupletuplelemma} 
If $x$, $y_1$,...$y_n$ and $z$ are objects of a contextual category \catcw such that $1 \base y_1 ... \base y_n$ in \catcw and
$y_i \base z$, for some $i$, $0 \leq i \leq n$ (where in the case of $n$ equal to $0$ then 
by $y_0$ we mean the terminal object $1$ of \catc),
if $\sntuple$ is a cascade from $x$ to $y_n$ in \catcw 
and if $g: x \morph z$ in \catcw such that
$g \circ p_z = \duplesi$, 
then 
$\duplesnsg$ is a cascade from $x$ to $\ynz$ in \catcw
and
\begin{equation}
\label{dupletuplegoal}
\duplesnsg = \dupletuplerhs\,.
\end{equation}
\end{lemma}
\begin{proof}
To show that $\duplesnsg$ is a cascade from $x$ to $\ynz$ in \catcw we need show that
$s(g) \in Sect(\duplesn ^* \ynz)$.
This follows because by definition of $s(g)$, $s(g) \in Sect((g \circ p_z) ^*z)$ and because
\begin{align*}
(g \circ p_z) ^*z &= \duplesi ^*z                            && \mbox{from initial assumption that $g \circ p_z =\duplesi$,}\\
                  &= (\duplesn \circ {p_{y_n,y_i}})^*z       && \mbox{by lemma \lref{dupledestructionlemma},} \\
                  &= {\duplesn} ^* {p_{y_n,y_i}}^*z          && \mbox{by (q4),} \\
                  &= {\duplesn} ^* (\ynz)                    && \mbox{ by definition of $\crossx{}{}{}$.}
\end{align*}
 
To show that $\dupletuplerhs$ (rhs of (\ref{dupletuplegoal})) is defined we need show that 
\begin{equation}
g \circ p_z = \duplesn \circ p_{y_n,y_i}
\end{equation}
This follows from the assumption that $g \circ p_z = \duplesi$ and from lemma \ref{dupledestructionlemma}.

Now $\dupletuplerhs$ is therefore defined and is the unique morphism such that
\begin{equation}
\dupletuplerhs \circ p_{\crossx{y_n}{z}{1}} = \duplesn
\end{equation}
and
\begin{equation}
\dupletuplerhs \circ q(p_{y_n,y_i},z) = g
\end{equation}
as shown here
\begin{equation}
\begin{array}{c p{4cm} c p{3cm} c }
\\[1.75cm]
\Rnode{x}{x} && \Rnode{Bn1C}{\crossx{y_{n}}{z}{1}} &&                            \\[1.5cm]
						 &&                                      &&\Rnode{z}{z}                \\[0.5cm]
             && \Rnode{Bn1}{y_{n}}                 &&                            \\[1.5cm]
						 &&                                      &&\Rnode{Bi}{y_i}             \\[0.5cm]
\end{array}
\mbox{\ncdarr{x}{Bn1C}
\alabel{ \dupletuplerhs}
\ncarr{x}{Bn1}
\blabel{\duplesn}
\ncsar{Bn1C}{Bn1}
\blabel{p_{\crossx{y_{n}}{z}{1}}}
\nccdar{Bn1}{Bi}
\blabel{p_{y_{n},y_i}}
\ncarr{Bn1C}{z}
\alabel{q(p_{y_{n},y_i},z)}[0.3]
\ncsar{z}{Bi}
\alabel{p_z}
\ncarr[60]{x}{z}
\alabel{g}
}
\end{equation}

Therefore to show (\ref{dupletuplegoal}), as we are required,  it suffices  to show that 

\begin{equation}
\label{dupletuplesubgoalone}
\duplesnsg \circ p_{\crossx{y_n}{z}{y_i}} = \duplesn
\end{equation}
which holds from by definition of $\duple{}$,
and
\begin{equation}
\label{dupletuplesubgoaltwo}
\duplesnsg \circ q(p_{y_n,y_i},z) = g
\end{equation}
which we show  by using lemma \ref{footandstactic} and showing that
\begin{equation}
\label{dupletuplesubgoaltwoone}
\duplesnsg \circ q(p_{y_n,y_i},z) \circ p_z = g \circ p_z
\end{equation}
and
\begin{equation}
\label{dupletuplesubgoaltwotwo}
s(\duplesnsg \circ q(p_{y_n,y_i},z)) = s(g)
\end{equation}
(\ref{dupletuplesubgoaltwoone}) is proved as follows:
\begin{align*}
\duplesnsg \circ q(p_{y_n,y_i},z) \circ p_z 
              &=  \duplesnsg \circ p_{\crossx{y_n}{z}{y_i}} \circ p_{y_n,y_i} 
                                               && \mbox{by (q1),}               \\
							&=\duplesnsg \circ p_{\crossx{y_n}{z}{y_i},y_i} && \mbox{by (P2),}  \\
							&=\duplesi                                        && \mbox{lemma \ref{dupledestructionlemma},} \\
							&= g \circ p_z                                    && \mbox{from the initial assumption.}
\end{align*}
and (\ref{dupletuplesubgoaltwotwo}) as follows 
\begin{align*}
s(\duplesnsg \circ q(p_{y_n,y_i},z))&=s(\duplesnsg)          &&\mbox{by (s3),}\\
                                    &=s(g)                   &&\mbox{by (d1).}
\end{align*}
\end{proof}
} % END of {thedupletuplelemma} and proof%
%

\begin{lemma}
\llabel{absolutedupletuplelemma}
For $n > 1$, if $x$ and $y_1,...y_n$ are objects of a contextual category \catcw and if \foreachi, $f_i: x \morph y_i$ then
\begin{equation*}
\tuple{\fn}=\duple{s(f_1),...s(f_n)}
\end{equation*}
\end{lemma}
\begin{proof}
\begin{align*}
\duple{s(f_1),...s(f_n)} &= \tuple{\duple{s(f_1),...s(f_{n-1})},f_n} &&\mbox{by lemma \lref{thegeneraldupletuplelemma},}\\
                         &= \tuple{\tuple{f_1,...f_{n-1}},f_n}       &&\mbox{by the inductive hypothesis,}  \\
                         &= \tuple{\fn}                              && \mbox{by definition of $\tuple{}$.}
\end{align*}
\end{proof}

