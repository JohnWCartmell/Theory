

\begin{frame}{Chemical Element Data}
\scalebox{0.75}{
\input{../content/chemistrydata/element.display.tabular}
}

\begin{itemize}
	\item An example of data organised in nested relations.
	\item Underlined column indicates a key attribute and thereby a uniqueness constraint.
	\item Some data relationships are represented by physical containment relationships in the message structure i.e. by nesting.
\end{itemize}
\end{frame}

\lstdefinelanguage{MyIDL}[]{IDL}
{morekeywords={Set,Of},sensitive=true}



\begin{frame}[fragile]{Description of Chemical Element Table}
In an IDL data specification it would look something like this:
\only<1>{\lstinputlisting
[basicstyle=\footnotesize,language=myIDL]
{compound.idl}}
\onslide<2->\lstinputlisting
[basicstyle=\footnotesize,keywordstyle={\ttfamily\color{green}\bfseries},language=myIDL]
{compound.idl}

\end{frame}

\begin{frame}{Chemical Compound Data}
\scalebox{0.75}{
\input{../content/chemistrydata/compound.display.tabular}
}
\begin{itemize}
\item $\largeAsterisk$ Asterisk here denotes a foreign key attribute. 
\item The 'symbol' attribute is a foreign key into the `element' table i.e.
	\begin{equation}
	              formula[symbol] \subseteq element[symbol]
	\end{equation}
\end{itemize}	
\end{frame}

\begin{frame}[fragile]{Message Structure}
A corresponding message structure might be defined 
in an IDL style language by:

\begin{lstlisting}[basicstyle=\footnotesize,keywordstyle={\ttfamily\color{green}\bfseries},language=myIDL]
struct compound => 
    symbol: string,
    name : string,
    atomic_no: integer,
    relative_atomoc_mass : float,
    valencies: Set Of valency,
    allotropes : Set Of allotrope

struct valency =>  number : integer 

struct allotrope =>
   name : string,
   melting_point : float,
   boiling_point : float,
   density : float
\end{lstlisting}
\end{frame}




\begin{frame}{Jackson Structure Diagrams}
\begin{tabular}{c c}
\scalebox{0.9}{\jacksonbinarydiagram{compound\kern0.1cm}{alias \kern1.2cm}{occurrence\kern0cm}}
&
\scalebox{0.9}{\jacksonbinarydiagram{element\kern0.4cm}{valency \kern0.8cm}{allotrope\kern0.3cm}}
\end{tabular}
\end{frame}

\begin{frame}{Bachman Structure Diagrams}
\begin{tabular}{c c}
\scalebox{0.9}{\bachmanbinarydiagram[left]{compound\kern0.1cm}{alias \kern1.2cm}{occurrence}}
&
\scalebox{0.9}{\bachmanbinarydiagram[right]{element\kern0.4cm}{valency \kern0.8cm}{allotrope\kern0.3cm}}
\end{tabular}
\begin{itemize}
	\item This diagram describes the hierarchcal structure of the nested tables of data I started with.
	\item It doesn't show all the relationships in the data
	\pause \item there is a set of zero, one or more occurrences that point to any given element
	\pause \ncline[linewidth=1.5pt, linestyle=dashed]{->}{leftC}{rightA}
\end{itemize}
\end{frame}

\begin{frame}{Bachman Network Diagram!!}
\doublebachmannetworkdiagram{compound\kern0.1cm}{element\kern0.4cm}{alias \kern1.2cm}{occurrence\kern0cm}{valency \kern0.8cm}{allotrope\kern0.3cm}
\end{frame}

\begin{frame}{Network Diagram Morphisms Version}
\doublecategorynetworkdiagram{compound\kern0.1cm}{element\kern0.4cm}{alias \kern1.2cm}{occurrence\kern0cm}{valency \kern0.8cm}{allotrope\kern0.3cm}

\begin{itemize}
	\item arrows now represent functional many-one relationships - these are mmorphisms
\end{itemize}
\end{frame}


\begin{frame}{Network Diagram Distinguished Morphisms Version}
\contextualcategorynetworkdiagram{compound\kern0.1cm}{element\kern0.4cm}{alias \kern1.2cm}{occurrence\kern0cm}{valency \kern0.8cm}{allotrope\kern0.3cm}
\begin{itemize}
	\item distinguished arrows now represent containment relationships
	\item others represent foreign key implemented relationships
\end{itemize}
\end{frame}

\begin{frame} 
In my tables the relationship between occurence and element is implemented by the symbol attribute of the compound data.
Looking up the symbol of an occurence in the symbol of the element data.
The symbol attribue of compound is called a foreign key
and the symbol attribute of the compound table is called a primary key. 
\end{frame}

\begin{frame}{Bachman Network Structure Representation}
\begin{itemize}
	\item Bachman is credited with the concept of network database.
    \item A network structure can have parts `contained in' many non-commensurate wholes.
    \item Using such we don't need commit to one hierarchy or the other. 
 \end{itemize}
\bachmannetworkdiagram{compound\kern0.3cm}{element\kern0.6cm}{occurrence\kern0.2cm}
\end{frame}

\begin{frame}{Restructured Chemical Element Data}
\scalebox{0.75}{
\input{../content/chemistrydata/element.second.display.tabular}
}
\end{frame}

\begin{frame}
\begin{center}
\scalebox{0.75}{
\input{../content/chemistrydata/relational/compound.relational.display.tabular}
}
\end{center}
\begin{itemize}
	\item A purely relational table -- subset of cartesian product of `string' and `number' --  rows are tuples.  
	\item The `name' column is the primary key. 
\end{itemize}
\end{frame}
\begin{frame}
\begin{center}
\scalebox{0.75}{
\input{../content/chemistrydata/relational/aliases.display.tabular}
}
\end{center}
\begin{itemize}
\item	In this table
\begin{itemize}
	\item The `alias' column is a primary key.
	\item The `aliased' column is a foreign key into the `compound' table i.e.
	\begin{equation}
	               aliases[aliased] \subseteq compound[name] 
	\end{equation}
	such as this known (and supported in relational software as) \term{referential integrity constraint}s or \term{foreign key constraint}s.) 
\end{itemize}
\end{itemize}
\end{frame}
\begin{frame}
\begin{center}
\scalebox{0.75}{
\input{../content/chemistrydata/relational/formula.display.tabular}
}
\end{center}
\begin{itemize}
	\item In this table 
	\begin{itemize}
	\item The primary key is a composite of `name' and `element' columns.  
	\item The 'compound' columns is a foreign key into the `compound' table i.e.
	\begin{equation}
	              formula[compound] \subseteq compound[name]
	\end{equation}
	\item The 'element' column is a foreign key into the `element' table i.e.
	\begin{equation}
	              formula[element] \subseteq element[symbol]
	\end{equation}
    \end{itemize}
\end{itemize}
\end{frame}


\begin{frame}{All three}
\scalebox{0.75}{
\input{../content/chemistrydata/relational/formula.display.tabular}
}
\scalebox{0.75}{
\input{../content/chemistrydata/relational/aliases.display.tabular}
}
\scalebox{0.75}{
\input{../content/chemistrydata/relational/compound.relational.display.tabular}
}
\end{frame}






