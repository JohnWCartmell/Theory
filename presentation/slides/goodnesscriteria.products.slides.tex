\documentclass[xcolor=pst,dvips]{beamer}
% For handout  
%\documentclass[handout]{beamer}   
%\usepackage{pgfpages}
%\pgfpagesuselayout{6 on 1}[a4paper,border shrink=5mm]

\usepackage{mathptmx}
\usepackage{amsfonts}
\usepackage{wasysym}
\usepackage{url}
\usepackage{hyperref}

\newcommand{\sharedmacros}{../../SharedMacros}
%\input{\sharedmacros/general.macros}    %causes problems when used with bamer
\input{\sharedmacros/ccategories.macros}
\input{\sharedmacros/gats.macros}
\input{\sharedmacros/metagat.macros}
\input{\sharedmacros/ermacros}
\input{\sharedmacros/erdiagram}    %beamer aware version
\input{../macros/generalmacros}
\input{../macros/othermacros}
\input{../macros/sketchmacros}

\renewcommand{\erpictureFolder}[0]{../../SharedPictures}



\usetheme{Szeged}
\usecolortheme{dolphin}

%\setbeamertemplate{navigation symbols}{}

\setcounter{equation}{0}

\title[John Cartmell]{Mathematical Theory of Data}
%% Which is to say types as they are used in practice in software development and as represented in theory in categories and in syntactic type theories.
%% There is also a subplot concerning representation of context which certain types depend on -- again represented in practice and in theory. 
\author{John Cartmell}
\institute{ad otium}
\date{Jan 25, 2019}
\bibliographystyle{plainnat}
\usepackage{bibentry}
\nobibliography*

\begin{document}
\section{\MToDsection}
\subsection{\MToDsubsectionliteraturewithProductsandEpiMonosCategories}


\begin{frame}{Definitions} 
In a category \catc, a  \term{source} is a family of morphisms with common domain: \\
\scalebox{0.65}{
\multisourcediagram{n}{a}{b}{f}
} 
\medskip
Such a source is said to be a \term{mono source}  iff for all $g,h:x \morph a$ in \catcw 
so that \scalebox{0.65}{
\monosourcedefinitiondiagram{x}{g}{h}{n}{a}{b}{f}
} 
in \catcw then if $g \circ f_i = h \circ f_i$, for each $i$,  then $g=h$.
\end{frame}


\begin{frame}{Mono Source Limit Cone}  %copied from sketchmonics.tex
Lemma: In a category \cat{C}
\scalebox{0.65}{
\input{../content/monoSource}
} is a mono source iff \\
\begin{center}
\scalebox{0.65}{
\input{../content/monoSourceLimitCone}
} 
is a limit cone.
\end{center}
\end{frame}




\begin{frame}{Composition of mono sources}
If $i$ and $j$ are mono sources and $f \in i$ so that
\begin{center}
\scalebox{0.65}{
\input{../content/monosourcecomposition}
}
\end{center}
then $(i \backslash \set{f}) \cup \setsuchthat{f \circ g}{g \in j}$ is a mono source.
\end{frame}

\begin{frame}{Sketches for categories with finite products and epi-mono splits.}
By a sketch for a category with finite products and epi-mono splits I shall mean a quintuple
$\tuple{G,PE,M,P,E}$
\begin{itemize}
\item  where $G$ is a directed graph, 
\item  $PE$ is a set of path equivalences, 
\item  $M$ is a set of $G$-sources deemed to be mono-sources,
\item  $P$ is a set of $G$-sources deemed to be product diagrams, 
\item  and $E$ is a set of $G$-paths deemed to be epimorphisms.
\end{itemize}
\medskip
From such a sketch we can generate a category with finite products and epi-mono splits.  \pause (unsubstantiated)   
\end{frame}

\begin{frame}
\IfSforproductepimonoCwithRCwords

\goodnesscriteria{1C} If $P$ contains the source \scalebox{0.65}{\multisourcediagram{n}{x}{y}{p}} 
then there ought to exist a node $z$ and an edge $f: x \morph z$ in $G$ such that morphism $f$ does not factor through any of the $p_i$ morphisms 
i.e. such that there exist $g: y_i \morph z$ in \catcw, for some $i$, such that $p_i\circ g = f$ in \catc. 
\end{frame}

\begin{frame}{Goodness Criteria 2B Revisited}
Restate how functional dependencies and their representations are defined in terms of \highlight{sketches} of categories with products and epi mono splits.
\end{frame}


\begin{frame}{Functional Dependency Restated}
\IfSforproductepimonoCwithRCwords, 
if \scalebox{0.65}{\multisourcepathdiagram{n}{a}{b}{x}} is a path source in $S$ and if
$y: a \morph c$ is a path in $S$
then path $y$ is said to be \term{functionally dependent} on the set of paths $\set{x_1,...x_n}$ with respect to the requirement $\reqtc$
iff the function $D(y)$ factors through $D(\tuple{x_1,... x_n })$

i.e. iff in each $D \in \reqtc$ there exists a  (unique)
function $H_D: img(D(\tuple{x_1,... x_n })) \morph D(c)$ 
such that 
\scalebox{0.65}{\commutativetrianglediagrammutant{D(a)}{img(D(\tuple{x_1,... x_n }))}{D(c)}{D(\xntuple)}{f_D}{D(y)}} commutes.
\end{frame}
\begin{frame} 
CORRECT THIS DIAGRAM
\scalebox{0.65}{ 
$
\begin{array}{cp{2cm}ccp{0.5cm}cc}
                & &         & \Rnode{Eb1}{D(b_1)}& &                            &        \\[0.6cm]
                & &         & \Rnode{Eb2}{D(b_2)}& &                            &        \\[0.6cm]
                & &\vdots   &                     & &                            &        \\[0.2cm]                                              
\Rnode{Ea}{E_a} & &         & \Rnode{Ebn}{D(b_n)}& & \Rnode{Jnctn}{}            &        \\[1.0cm]
                & &         & \Rnode{Ec}{D(c)}   & &                            &  
\end{array}
\begin{arrows}
\simplepath{Ea}{Eb1}
\alabel{D(x_1)}
\simplepath{Ea}{Eb2}
\alabel{D(x_2)}
\simplepath{Ea}{Ebn}
\alabel{D(x_n)}
\simplepath{Ea}{Ec}
\blabel{D(y)}
\nchmarr[15][45]{Eb1}{Ebn}{Jnctn}{Ec}
\naput[npos=-0.1]{$f_E$}
\ncarc[arcangle=15]{Eb2}{Jnctn}
\end{arrows}
$
}
\end{frame}



\begin{frame}{Notation}
That a path  $y$ is functionally dependent on the set of paths $\set{x_1,...x_n}$ 
is written  \msfd{x_1,...x_n}{y}.
\end{frame}

%UNUSED
\iffalse
\begin{frame}{Functional Dependency original}
\IfSforproductepimonoCwithRCwords.
 
if for some $n \geq 1$, $a$, $b_{i}, 1 \leq i \leq n$,  and $c$ are nodes and 
if  $x_{i, 1 \leq i \leq n}$, and $y$ are paths such
that for each $i$, $x_i : a \rightarrow b_i$, and such that $y: a \rightarrow c$ 
as shown here:
\begin{center}
\scalebox{4.5}{
\setlength{\arraycolsep}{.2cm}
$
\begin{array}{cp{2cm}cc}
             & &         & \Rnode{b1}{b_1} \\ [0.5cm]
                         & &         & \Rnode{b2}{b_2} \\ [0.6cm]
                         & & \vdots  &                 \\ [0.2cm]
\Rnode{a}{a} & &         & \Rnode{bn}{b_n} \\ [1.0cm]
             & &         & \Rnode{c}{c}   \\
\end{array}
\begin{arrows}
\simplepath{a}{b1}
\alabel{x_1}
\simplepath{a}{b2}
\alabel{x_2}
\simplepath{a}{bn}
\alabel{x_n}
\simplepath{a}{c}
\blabel{y}
\end{arrows}
$
}
\end{center}
 
then path $y$ is said to be \term{functionally dependent} on the set of paths $\{x_1,...x_n\}$ in ???, 
for which  we write  \msfd{x_1,...x_n}{y},
iff
 in each defining instance $E$ of ??? there exists a  partial 
function $f_E: E_{b_1} \times E_{b_n} \rightarrow E_c$ 
\noindent such that 
domain of $f_E \subseteq img(E_{\tuple{x_1,... x_n }})$ 
and  
$E_{\xntuple} \circ f_E = E_y$ 

\begin{center}
$
\begin{array}{cp{2cm}ccp{0.5cm}cc}
                            & &         & \Rnode{Eb1}{E_{b_1}}& &                            &        \\ [0.6cm]
                            & &         & \Rnode{Eb2}{E_{b_2}}& &                            &        \\ [0.6cm]
                            & &\vdots  &                      & &                            &        \\ [0.2cm]                                                
\Rnode{Ea}{E_a} & &         & \Rnode{Ebn}{E_{b_n}}& & \Rnode{Jnctn}{}&  \\ [1.0cm]
                            & &         & \Rnode{Ec}{{E_c}}   & &                            &        \\
\end{array}
\begin{arrows}
\simplepath{Ea}{Eb1}
\alabel{E_{x_1}}
\simplepath{Ea}{Eb2}
\alabel{E_{x_2}}
\simplepath{Ea}{Ebn}
\alabel{E_{x_n}}
\simplepath{Ec}
\blabel{E_y}
\nchmarr[15][45]{Eb1}{Ebn}{Jnctn}{Ec}
\naput[npos=-0.1]{$f_E$}
\ncarc[arcangle=15]{Eb2}{Jnctn}
\end{arrows}
$
\end{center}

\end{frame}
\fi

%UNUSED
\iffalse
\scalebox{0.45}{
\setlength{\arraycolsep}{.2cm}
$
\begin{array}{cp{2cm}cc}
             & &         & \Rnode{b1}{b_1} \\ [0.5cm]
                         & &         & \Rnode{b2}{b_2} \\ [0.6cm]
                         & & \vdots  &                 \\ [0.2cm]
\Rnode{a}{a} & &         & \Rnode{bn}{b_n} \\ [1.0cm]
             & &         & \Rnode{c}{c}   \\
\end{array}
\begin{arrows}
\simplepath{a}{b1}
\alabel{x_1}
\simplepath{a}{b2}
\alabel{x_2}
\simplepath{a}{bn}
\alabel{x_n}
\simplepath{a}{c}
\blabel{y}
\end{arrows}
$
}
\fi
\end{document}